{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"app\"],{0:function(t,e){},1:function(t,e){},\"1GwN\":function(t,e,n){},20:function(t,e){},21:function(t,e){},5:function(t,e){},6:function(t,e){},\"6Ezj\":function(t,e,n){\"use strict\";var i=n(\"kkAF\");n.n(i).a},\"AR/k\":function(t,e,n){},\"AY+Q\":function(t,e,n){\"use strict\";var i=n(\"AR/k\");n.n(i).a},GO6x:function(t,e,n){\"use strict\";var i=n(\"TKzj\");n.n(i).a},GTXu:function(t,e,n){},\"KDR+\":function(t,e,n){\"use strict\";n.r(e);var i={};n.r(i),n.d(i,\"loadingStart\",(function(){return $})),n.d(i,\"loadingStop\",(function(){return A})),n.d(i,\"loadingAllow\",(function(){return q}));var r={};n.r(r),n.d(r,\"getItem\",(function(){return nt})),n.d(r,\"getItems\",(function(){return it})),n.d(r,\"create\",(function(){return rt})),n.d(r,\"update\",(function(){return at})),n.d(r,\"remove\",(function(){return ot})),n.d(r,\"reset\",(function(){return st})),n.d(r,\"getCountUserData\",(function(){return lt}));var a={};n.r(a),n.d(a,\"item\",(function(){return ct})),n.d(a,\"items\",(function(){return ut})),n.d(a,\"error\",(function(){return dt})),n.d(a,\"errors\",(function(){return vt})),n.d(a,\"countUserData\",(function(){return mt}));var o=n(\"oCYn\"),s=(n(\"Rfxz\"),n(\"brp2\"),n(\"DQNa\"),n(\"jE9Z\")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-app\",{attrs:{id:\"inspire\"}},[n(\"v-content\",[n(\"v-container\",{staticClass:\"fill-height\",attrs:{fluid:\"\"}},[n(\"v-row\",{attrs:{align:\"center\",justify:\"center\"}},[n(\"v-col\",{staticClass:\"col-12 d-flex justify-center\"},[n(\"v-card\",{staticClass:\"elevation-12\",attrs:{width:\"100%\",\"max-width\":\"400\"}},[n(\"v-form\",{on:{submit:function(e){return e.preventDefault(),t.singIn(e)}}},[n(\"v-toolbar\",{attrs:{color:\"brown darken-4\",dark:\"\",flat:\"\"}},[n(\"v-toolbar-title\",[t._v(\"Caravane Connexion\")]),t._v(\" \"),n(\"v-spacer\")],1),t._v(\" \"),n(\"v-card-text\",[n(\"v-text-field\",{attrs:{color:\"brown darken-4\",label:\"email\",name:\"login\",\"prepend-icon\":\"person\",type:\"text\",error:t.hasError,\"error-messages\":t.error},model:{value:t.credentials.email,callback:function(e){t.$set(t.credentials,\"email\",e)},expression:\"credentials.email\"}}),t._v(\" \"),n(\"v-text-field\",{attrs:{color:\"brown darken-4\",id:\"password\",label:\"password\",name:\"password\",\"prepend-icon\":\"lock\",type:\"password\",error:t.hasError,\"error-messages\":t.error},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,\"password\",e)},expression:\"credentials.password\"}})],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{type:\"submit\",color:\"brown darken-4\"}},[n(\"span\",{attrs:{color:\"white\"}},[t._v(\"Connexion\")])])],1)],1)],1)],1)],1)],1)],1)],1)};l._withStripped=!0;var c={name:\"login\",data:function(){return{credentials:{email:\"eldji22@hotmail.fr\",password:\"admin\"}}},computed:{error:function(){return this.$store.getters[\"auth/error\"]},hasError:function(){return null!==this.error}},methods:{singIn:function(){var t=this;this.$store.dispatch(\"auth/login\",this.credentials).then((function(e){t.$store.commit(\"auth/\".concat(\"AUTH_UPDATE_TOKEN\"),e.data),t.$router.push({name:\"Home\"})})).catch((function(t){}))}}},u=n(\"KHd+\"),d=Object(u.a)(c,l,[],!1,null,null,null);d.options.__file=\"vue/pages/Login.vue\";var v=d.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-app\",{attrs:{id:\"inspire\"}},[n(\"v-navigation-drawer\",{attrs:{color:t.color,clipped:t.$vuetify.breakpoint.lgAndUp,dark:\"\",\"hide-overlay\":\"\",app:\"\"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:\"drawer\"}},[n(\"v-list\",{attrs:{dense:\"\"}},[t._l(t.items,(function(e){return[e.heading?n(\"v-row\",{key:e.heading,attrs:{align:\"center\"}},[n(\"v-col\",{attrs:{cols:\"6\"}},[e.heading?n(\"v-subheader\",{staticClass:\"test\"},[t._v(t._s(e.heading))]):t._e()],1),t._v(\" \"),n(\"v-col\",{staticClass:\"text-center\",attrs:{cols:\"6\"}},[n(\"a\",{staticClass:\"body-2 black--text\",attrs:{href:\"#!\"}},[t._v(\"EDIT\")])])],1):e.children?n(\"v-list-group\",{key:e.text,attrs:{\"prepend-icon\":e.model?e.icon:e[\"icon-alt\"],\"append-icon\":\"\"},scopedSlots:t._u([{key:\"activator\",fn:function(){return[n(\"v-list-item-content\",[n(\"v-list-item-title\",{staticClass:\"test\",attrs:{router:\"\",to:e.route}},[t._v(t._s(e.text))])],1)]},proxy:!0}],null,!0),model:{value:e.model,callback:function(n){t.$set(e,\"model\",n)},expression:\"item.model\"}},[t._v(\" \"),t._l(e.children,(function(e,i){return n(\"v-list-item\",{key:i,attrs:{link:\"\"}},[e.icon?n(\"v-list-item-action\",[n(\"v-icon\",[t._v(t._s(e.icon))])],1):t._e(),t._v(\" \"),n(\"v-list-item-content\",[n(\"v-list-item-title\",{staticClass:\"test\"},[t._v(t._s(e.text))])],1)],1)}))],2):n(\"v-list-item\",{key:e.text,attrs:{link:\"\",router:\"\",to:e.route}},[n(\"v-list-item-action\",[n(\"v-icon\",[t._v(t._s(e.icon))])],1),t._v(\" \"),n(\"v-list-item-content\",[n(\"v-list-item-title\",{staticClass:\"test\"},[t._v(t._s(e.text))])],1)],1)]}))],2)],1),t._v(\" \"),n(\"v-app-bar\",{attrs:{\"clipped-left\":t.$vuetify.breakpoint.lgAndUp,app:\"\",color:\"brown darken-4\",dark:\"\"}},[n(\"v-app-bar-nav-icon\",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(\" \"),n(\"v-toolbar-title\",{staticClass:\"ml-0 pl-4\",staticStyle:{width:\"300px\"}},[n(\"span\",{staticClass:\"hidden-sm-and-down\"},[t._v(\"CARAVANE\")])]),t._v(\" \"),n(\"v-text-field\",{staticClass:\"hidden-sm-and-down\",attrs:{flat:\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"prepend-inner-icon\":\"mdi-magnify\",label:\"Search\"}}),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{icon:\"\"}},[n(\"v-icon\",[t._v(\"mdi-apps\")])],1),t._v(\" \"),n(\"v-btn\",{attrs:{icon:\"\"}},[n(\"v-icon\",[t._v(\"mdi-bell\")])],1),t._v(\" \"),n(\"v-btn\",{attrs:{icon:\"\",large:\"\"}},[n(\"v-avatar\",{attrs:{size:\"32px\",item:\"\"}},[n(\"v-img\",{attrs:{src:\"https://cdn.vuetifyjs.com/images/logos/logo.svg\",alt:\"Vuetify\"}})],1)],1),t._v(\" \"),n(\"v-btn\",{attrs:{icon:\"\"},on:{click:t.signOut}},[n(\"v-icon\",[t._v(\"mdi-power\")])],1)],1),t._v(\" \"),n(\"v-content\",[n(\"router-view\")],1)],1)};m._withStripped=!0;var p={props:{source:String},data:function(){return{dialog:!1,drawer:!0,color:\"brown darken-4\",items:[{text:\"Utilisateurs\",icon:\"account_circle\",route:\"/user/list\"},{text:\"Clients\",icon:\"contact_phone\",route:\"/client\"},{icon:\"mdi-contacts\",text:\"Fournisseur\",route:\"/fournisseur\"},{text:\"Categorie\",icon:\"storage\",route:\"/categorie\"},{text:\"Produit\",icon:\"shopping_cart\",route:\"/produit\"},{text:\"Depot\",icon:\"assignment\",route:\"/depot\"},{text:\"Vente\",icon:\"storefront\",route:\"/vente\"},{text:\"Caisse\",icon:\"monetization_on\",route:\"/caisse\"},{text:\"Opération de caisse\",icon:\"monetization_on\",route:\"/operation/caisse\"}]}},methods:{signOut:function(){this.$store.dispatch(\"auth/logout\")}}},f=(n(\"g3yF\"),Object(u.a)(p,m,[],!1,null,null,null));f.options.__file=\"vue/components/layout/MainSlot.vue\";var h=f.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"text-center\"},[n(\"v-container\",[n(\"v-row\",{attrs:{justify:\"space-between\"}},t._l(4,(function(e){return n(\"v-col\",{key:e,attrs:{cols:\"auto\"}},[n(\"v-card\",{attrs:{elevation:3,height:\"100\",width:\"250\"}},[n(\"v-row\",{staticClass:\"fill-height\",attrs:{align:\"center\",justify:\"center\"},domProps:{textContent:t._s(e-1)}})],1)],1)})),1),t._v(\" \"),n(\"h1\")],1),t._v(\" \"),n(\"v-progress-circular\",{attrs:{size:50,color:\"primary\",indeterminate:\"\"}}),t._v(\" \"),n(\"v-progress-circular\",{attrs:{width:3,color:\"red\",indeterminate:\"\"}}),t._v(\" \"),n(\"v-progress-circular\",{attrs:{size:70,width:7,color:\"purple\",indeterminate:\"\"}}),t._v(\" \"),n(\"v-progress-circular\",{attrs:{width:3,color:\"green\",indeterminate:\"\"}}),t._v(\" \"),n(\"v-progress-circular\",{attrs:{size:50,color:\"amber\",indeterminate:\"\"}}),t._v(\" \"),n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Nouvelle catégorie\")])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-form\",{ref:\"form\",on:{submit:function(t){t.preventDefault()}}},[n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Libelle\"},model:{value:t.categorie.libelle,callback:function(e){t.$set(t.categorie,\"libelle\",e)},expression:\"categorie.libelle\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-file-input\",{ref:\"file\",staticClass:\"input-group-prepend\",attrs:{accept:\"image/*\",label:\"File input\",type:\"file\",id:\"file\"},model:{value:t.categorie.files,callback:function(e){t.$set(t.categorie,\"files\",e)},expression:\"categorie.files\"}})],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.close()}}},[t._v(\"Annuler\")]),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.createCategorie()}}},[t._v(\"Enregistrer\")])],1)],1)],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.dialog=!0}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-account-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter une catégorie\")])],1)],1),t._v(\" \"),n(\"v-form\",{ref:\"form\",on:{submit:function(e){return e.preventDefault(),t.createProduit()}}},[n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"InputDynamic\",{scopedSlots:t._u([{key:\"default\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Désignation\"},model:{value:i.designation,callback:function(e){t.$set(i,\"designation\",e)},expression:\"item.designation\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Taille \",\"hide-details\":\"\"},model:{value:i.taille,callback:function(e){t.$set(i,\"taille\",e)},expression:\"item.taille\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Age\",\"hide-details\":\"\"},model:{value:i.age,callback:function(e){t.$set(i,\"age\",e)},expression:\"item.age\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Pointure\",\"hide-details\":\"\"},model:{value:i.pointure,callback:function(e){t.$set(i,\"pointure\",e)},expression:\"item.pointure\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Couleur \",\"hide-details\":\"\"},model:{value:i.couleur,callback:function(e){t.$set(i,\"couleur\",e)},expression:\"item.couleur\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Prix de vente \",\"hide-details\":\"\"},model:{value:i.prixVente,callback:function(e){t.$set(i,\"prixVente\",e)},expression:\"item.prixVente\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Quantité \",\"hide-details\":\"\"},model:{value:i.quantite,callback:function(e){t.$set(i,\"quantite\",e)},expression:\"item.quantite\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-select\",{attrs:{label:\"Catégorie\",items:t.categories,\"item-value\":\"id\",\"item-text\":\"libelle\"},model:{value:i.categorie,callback:function(e){t.$set(i,\"categorie\",e)},expression:\"item.categorie\"}})],1)],1)]}}]),model:{value:t.items,callback:function(e){t.items=e},expression:\"items\"}})],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{staticClass:\"py-0 mx-auto\",attrs:{cols:\"auto\"}},[n(\"v-btn\",{attrs:{text:\"\"},on:{click:t.add}},[n(\"v-icon\",[t._v(\"mdi-plus\")]),t._v(\"Ajouter Produit\\n          \")],1)],1)],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.reset()}}},[t._v(\"Fermer\")]),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",color:\"success\"},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}])},[t._v(\"\\n          Valider\\n          \")])],1)],1)],1),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{fullscreen:\"\",\"hide-overlay\":\"\",transition:\"dialog-bottom-transition\"},model:{value:t.dialogProd,callback:function(e){t.dialogProd=e},expression:\"dialogProd\"}},[n(\"v-card\",[n(\"v-toolbar\",{attrs:{dark:\"\",color:\"#4E342E\"}},[n(\"v-btn\",{attrs:{icon:\"\",dark:\"\"},on:{click:function(e){t.dialogProd=!1}}},[n(\"v-icon\",[t._v(\"mdi-close\")])],1),t._v(\" \"),n(\"v-toolbar-title\",[t._v(\"Produits\")]),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-toolbar-items\",[n(\"v-btn\",{attrs:{dark:\"\",text:\"\"},on:{click:function(e){t.dialogProd=!1}}},[t._v(\"Save\")])],1)],1),t._v(\" \"),n(\"div\",{staticClass:\"text-center mb-4\"},[n(\"v-alert\",{attrs:{value:t.snackbar,dense:\"\",type:\"info\",transition:\"scale-transition\",top:\"\"}},[n(\"strong\",[t._v(t._s(t.text))])])],1)],1)],1)],1)],1)};b._withStripped=!0;n(\"pNMO\"),n(\"TeQF\"),n(\"QWBl\"),n(\"zKZe\"),n(\"HRxU\"),n(\"eoL8\"),n(\"5DmW\"),n(\"27RR\"),n(\"tkto\"),n(\"FZtP\");var g=n(\"L2JU\"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"transition-group\",{attrs:{name:\"list\",tag:\"div\"}},t._l(t.value,(function(e,i){return n(\"v-card\",{key:e[t.itemId],staticClass:\"mt-3\",attrs:{elevation:\"3\"}},[n(\"v-card-title\",{staticClass:\"justify-end pb-0\"},[n(\"v-btn\",{attrs:{disabled:i+1>=t.value.length,icon:\"\"},on:{click:function(e){return t.down(i)}}},[n(\"v-icon\",[t._v(\"mdi-arrow-down\")])],1),t._v(\" \"),n(\"v-btn\",{attrs:{disabled:0===i,icon:\"\"},on:{click:function(e){return t.up(i)}}},[n(\"v-icon\",[t._v(\"mdi-arrow-up\")])],1),t._v(\" \"),n(\"v-btn\",{attrs:{icon:\"\"},on:{click:function(e){return t.remove(i)}}},[n(\"v-icon\",[t._v(\"mdi-close\")])],1)],1),t._v(\" \"),n(\"v-card-text\",[t._t(\"default\",null,{item:e,index:i})],2)],1)})),1)};_._withStripped=!0;n(\"4Brf\"),n(\"0oug\"),n(\"ma9I\"),n(\"pjDv\"),n(\"J30X\"),n(\"4mDm\"),n(\"+2oP\"),n(\"sMBO\"),n(\"07d7\"),n(\"JfAA\"),n(\"PKPk\"),n(\"3bBZ\");function x(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===n&&t.constructor&&(n=t.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(t);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var O={props:{value:{type:Array,default:function(){return[]}},itemId:{type:String,default:\"id\"}},methods:{remove:function(t){var e=[].concat(x(this.value.slice(0,t)),x(this.value.slice(t+1)));this.$emit(\"input\",e)},up:function(t){var e=x(this.value);e[t]=this.value[t-1],e[t-1]=this.value[t],this.$emit(\"input\",e)},down:function(t){var e=x(this.value);e[t]=this.value[t+1],e[t+1]=this.value[t],this.$emit(\"input\",e)}}},k=(n(\"dK4a\"),Object(u.a)(O,_,[],!1,null,\"a0d96132\",null));k.options.__file=\"vue/components/InputDynamic.vue\";var E,P=k.exports,j=(n(\"5s+n\"),n(\"vDqi\")),w=n.n(j),S=n(\"BOF4\"),V=n.n(S);function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C={login:function(t,e){var n=t.commit;n(\"AUTH_ERROR_CHANGE\",null);var i=\"\".concat(\"https://www.caravanebyerc.com\",\"/login\");return Qe.post(i,e).catch((function(t){throw n(\"AUTH_ERROR_CHANGE\",\"Username or password are incorrect\"),t}))},logout:function(t){(0,t.commit)(\"AUTH_RESET\"),sr.push({name:\"Login\"})}};function I(){return{token:localStorage.getItem(\"token\"),roles:[],error:null}}var R,D={namespaced:!0,state:I(),getters:{jwtDecoded:function(t){if(null!==(t.token||null))return V()(t.token)},roles:function(t){return token=V()(t.token),t.roles=token.roles},error:function(t){return t.error}},actions:C,mutations:(T(E={},\"AUTH_UPDATE_TOKEN\",(function(t,e){localStorage.setItem(\"token\",e.token);var n=V()(e.token);localStorage.setItem(\"roles\",n.roles),t.token=e.token,t.roles=n.roles})),T(E,\"AUTH_ERROR_CHANGE\",(function(t,e){t.error=e})),T(E,\"AUTH_RESET\",(function(t){localStorage.removeItem(\"token\"),localStorage.removeItem(\"error\"),localStorage.removeItem(\"roles\");var e=I();Object.keys(e).forEach((function(n){t[n]=e[n]})),window.location.href=\"/login\"})),E)},$=function(t){(0,t.commit)(\"LOADING_START\")},A=function(t){(0,t.commit)(\"LOADING_STOP\")},q=function(t,e){(0,t.commit)(\"LOADING_ALLOW\",e)};function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N={namespaced:!0,state:{isLoading:0,isLoadingAllow:!0},getters:{isLoading:function(t){return 0!==t.isLoading}},actions:i,mutations:(U(R={},\"LOADING_START\",(function(t){t.loadingAllow&&(t.isLoading+=1)})),U(R,\"LOADING_STOP\",(function(t){t.loadingAllow=!0,t.isLoading>0&&(t.isLoading-=1)})),U(R,\"LOADING_ALLOW\",(function(t,e){t.loadingAllow=e})),R)},F=(n(\"oVuX\"),n(\"2B1R\"),n(\"dhqo\")),L=n.n(F);function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var z,G=function(t,e,n){var i=t.commit;return i(\"\".concat(e,\"_SET_ERROR\"),null),Qe.get(\"\".concat(void 0,\"/\").concat(L()(e.toLowerCase()),\"/\").concat(n)).then((function(t){return t.data})).then((function(t){return i(\"\".concat(e,\"_SET_ITEM\"),t),t})).catch((function(t){i(\"\".concat(e,\"_SET_ERROR\"),t.message)}))},J=function(t,e,n){var i=t.commit,r=\"/\".concat(L()(e.toLowerCase()));return n&&(r+=\"?\".concat(Object.keys(n).map((function(t){return\"\".concat(t,\"=\").concat(n[t])})).join(\"&\"))),i(\"\".concat(e,\"_SET_ERROR\"),null),Qe.get(void 0+r).then((function(t){return t.data})).then((function(t){return i(\"\".concat(e,\"_SET_ITEMS\"),t[\"hydra:member\"]),t[\"hydra:member\"]})).catch((function(t){i(\"\".concat(e,\"_SET_ERROR\"),t.message)}))},B=function(t,e){var n=t.commit,i=t.state;return n(\"\".concat(e,\"_SET_ERROR\"),null),Qe.post(\"\".concat(void 0,\"/\").concat(L()(e.toLowerCase())),i.item).then((function(t){return t.data})).catch((function(t){var i=t.response.data;if(i.violations){var r={};i.violations.map((function(t){Object.assign(r,M({},t.propertyPath,t.message))})),n(\"\".concat(e,\"_SET_ERRORS\"),r)}var a=i[\"hydra:description\"]?i[\"hydra:description\"]:i.message;throw n(\"\".concat(e,\"_SET_ERROR\"),a),i}))},Q=function(t,e,n){var i=t.commit;return Qe.delete(\"\".concat(void 0,\"/\").concat(L()(e.toLowerCase()),\"/\").concat(n)).catch((function(t){var n=409===t.response.status?\"Suppresion impossible \":t.message;throw i(\"\".concat(e,\"_SET_ERROR\"),n),t}))},H=\"\".concat(\"USER\",\"_RESET\"),Y=\"\".concat(\"USER\",\"_SET_ITEM\"),K=\"\".concat(\"USER\",\"_UPDATE_ITEM\"),X=\"\".concat(\"USER\",\"_SET_ITEMS\"),W=\"\".concat(\"USER\",\"_SET_ERROR\"),Z=\"\".concat(\"USER\",\"_SET_ERRORS\"),tt=\"\".concat(\"USER\",\"_SET_COUNT_USER\"),et=\"\".concat(\"USER\",\"_UPDATE_ONE_ITEM\"),nt=function(t,e){var n=t.dispatch,i=t.commit;return G({dispatch:n,commit:i},\"USER\",e)},it=function(t,e){var n=t.dispatch,i=t.commit;return J({dispatch:n,commit:i},\"USER\",e)},rt=function(t){var e=t.dispatch,n=t.commit,i=t.state;return B({dispatch:e,commit:n,state:i},\"USER\")},at=function(t,e){return function(t,e,n){var i=t.commit,r=t.state;return i(\"\".concat(e,\"_SET_ERROR\"),null),Qe.put(\"\".concat(void 0,\"/\").concat(L()(e.toLowerCase()),\"/\").concat(n),r.item).then((function(t){return t.data})).catch((function(t){var n=t.response.data;if(n.violations){var r={};n.violations.map((function(t){Object.assign(r,M({},t.propertyPath,t.message))})),i(\"\".concat(e,\"_SET_ERRORS\"),r)}var a=n[\"hydra:description\"]?n[\"hydra:description\"]:n.message;throw i(\"\".concat(e,\"_SET_ERROR\"),a),n}))}({dispatch:t.dispatch,commit:t.commit,state:t.state},\"USER\",e)},ot=function(t,e){var n=t.dispatch,i=t.commit;return Q({dispatch:n,commit:i},\"USER\",e)},st=function(t){return function(t,e){(0,t.commit)(\"\".concat(e,\"_RESET\"))}({commit:t.commit},\"USER\")},lt=function(t){var e=t.commit;return Qe.get(\"\".concat(void 0,\"/totaluser\")).then((function(t){return e(\"USER_SET_COUNT_USER\",t.data),t.data}))},ct=function(t){return t.item},ut=function(t){return t.items},dt=function(t){return t.error},vt=function(t){return t.errors},mt=function(t){return t.countUserData},pt=function(){return{item:{isActivated:!0,name:\"\",phone:\"\",email:\"\",roles:[]},items:[],error:null,errors:{},countUserData:{totalUser:0,totalUserActifs:0,totalUserInactifs:0}}};function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ht,bt=(ft(z={},Y,(function(t,e){Object.assign(t,{item:e})})),ft(z,K,(function(t,e){t.item=Object.assign({},t.item,e)})),ft(z,X,(function(t,e){Object.assign(t,{items:e})})),ft(z,W,(function(t,e){Object.assign(t,{error:e})})),ft(z,Z,(function(t,e){Object.assign(t,{errors:e})})),ft(z,H,(function(t){Object.assign(t,{item:{isActivated:!0,name:\"\",phone:\"\",email:\"\",roles:[]},items:[],error:null,errors:{},countUserData:{totalUser:0,totalUserActifs:0,totalUserInactifs:0}})})),ft(z,tt,(function(t,e){Object.assign(t,{countUserData:e})})),ft(z,et,(function(t){t.item=Object.assign({},t.item)})),z),gt={namespaced:!0,state:pt,actions:r,getters:a,mutations:bt},_t=\"\".concat(\"DEPOT\",\"_RESET\"),xt=\"\".concat(\"DEPOT\",\"_SET_ITEM\"),yt=\"\".concat(\"DEPOT\",\"_UPDATE_ITEM\"),Ot=\"\".concat(\"DEPOT\",\"_SET_ITEMS\"),kt=\"\".concat(\"DEPOT\",\"_SET_ERROR\"),Et=\"\".concat(\"DEPOT\",\"_SET_ERRORS\"),Pt=(\"\".concat(\"DEPOT\",\"_SET_COUNT_DEPOT\"),\"\".concat(\"DEPOT\",\"_UPDATE_ONE_ITEM\")),jt=\"\".concat(\"DEPOT\",\"_RESET_ITEM\");function wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach((function(e){Vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tt,Ct={namespaced:!0,state:{item:{id:null,stockInitial:0,quantiteDeposee:0,totalStockApresDepot:0,quantiteVendue:0,stockFinal:0,produit:{id:null}},items:[],error:null,errors:{}},getters:{depot:function(t){return t.item},depots:function(t){return t.items},error:function(t){return t.error},errors:function(t){return t.errors}},actions:{getDepots:function(t,e){var n=t.dispatch,i=t.commit;return J({dispatch:n,commit:i},\"DEPOT\",e)},createDepot:function(t){var e=t.commit,n=t.state,i=t.namespace,r=void 0===i?\"DEPOT\":i;return e(\"\".concat(r,\"_SET_ERROR\"),null),Qe.post(\"\".concat(void 0,\"/\").concat(L()(r.toLowerCase())),St(St({},n.item),{},{produit:\"/api/produits/\".concat(n.item.produit.id)})).then((function(t){return t.data})).catch((function(t){var n=t.response.data;if(n.violations){var i={};n.violations.map((function(t){Object.assign(i,Vt({},t.propertyPath,t.message))})),e(\"\".concat(r,\"_SET_ERRORS\"),i)}var a=n[\"hydra:description\"]?n[\"hydra:description\"]:n.message;throw e(\"\".concat(r,\"_SET_ERROR\"),a),n}))},updateDepot:function(t){var e=t.commit,n=t.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"DEPOT\";return e(\"\".concat(i,\"_SET_ERROR\"),null),Qe.put(\"\".concat(void 0,\"/\").concat(L()(i.toLowerCase()),\"/\").concat(n.item.id),St(St({},n.item),{},{produit:\"/api/produits/\".concat(n.item.produit.id)})).then((function(t){return t.data})).catch((function(t){var n=t.response.data;if(n.violations){var r={};n.violations.map((function(t){Object.assign(r,Vt({},t.propertyPath,t.message))})),e(\"\".concat(i,\"_SET_ERRORS\"),r)}var a=n[\"hydra:description\"]?n[\"hydra:description\"]:n.message;throw e(\"\".concat(i,\"_SET_ERROR\"),a),n}))},removeDepot:function(t,e){var n=t.dispatch,i=t.commit;return Q({dispatch:n,commit:i},\"DEPOT\",e)}},mutations:(Vt(ht={},xt,(function(t,e){Object.assign(t,{item:e})})),Vt(ht,jt,(function(t){Object.assign(t,{item:{id:null,stockInitial:0,quantiteDeposee:0,totalStockApresDepot:0,quantiteVendue:0,stockFinal:0,produit:{id:null}}})})),Vt(ht,yt,(function(t,e){Object.assign(t.item,e),t.item.quantiteDeposee=0})),Vt(ht,Ot,(function(t,e){Object.assign(t,{items:e})})),Vt(ht,kt,(function(t,e){Object.assign(t,{error:e})})),Vt(ht,Et,(function(t,e){Object.assign(t,{errors:e})})),Vt(ht,_t,(function(t){Object.assign(t,defaultState())})),Vt(ht,Pt,(function(t){t.depot=Object.assign(t,null)})),Vt(ht,\"setProduit\",(function(t,e){t.item.produit=e})),ht)},It=\"\".concat(\"VENTE\",\"_RESET\"),Rt=\"\".concat(\"VENTE\",\"_SET_ITEM\"),Dt=\"\".concat(\"VENTE\",\"_UPDATE_ITEM\"),$t=\"\".concat(\"VENTE\",\"_SET_ITEMS\"),At=\"\".concat(\"VENTE\",\"_SET_ERROR\"),qt=\"\".concat(\"VENTE\",\"_SET_ERRORS\"),Ut=(\"\".concat(\"VENTE\",\"_SET_COUNT_DEPOT\"),\"\".concat(\"VENTE\",\"_UPDATE_ONE_ITEM\")),Nt=\"\".concat(\"VENTE\",\"_RESET_ITEM\"),Ft=\"\".concat(\"VENTE\",\"_SET_PROD_ITEM\");function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(n),!0).forEach((function(e){zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gt,Jt={namespaced:!0,state:{item:{id:null,produit:[],quantiteVendue:0,prixVenteTotal:0,prixNetPayer:0,dateVente:\"\",client:{id:null}},items:[],ventesFours:[],error:null,errors:{},produits:[],totalJournee:null,counter:10},getters:{vente:function(t){return t.item},ventes:function(t){return t.items},error:function(t){return t.error},errors:function(t){return t.errors},produits:function(t){return t.produits},allVentesFours:function(t){return t.ventesFours},totalJournee:function(t){return t.totalJournee},fournisseurProduitsVendus:function(t){var e=[];return t.items.map((function(t){t.venteProduits.forEach((function(t){e.push(t)}))})),e}},actions:{getVentes:function(t,e){var n=t.dispatch,i=t.commit;return J({dispatch:n,commit:i},\"VENTE\",e)},createVente:function(t){var e=t.commit,n=t.state,i=t.namespace,r=void 0===i?\"VENTE\":i;return e(\"\".concat(r,\"_SET_ERROR\"),null),Qe.post(\"\".concat(void 0,\"/\").concat(L()(r.toLowerCase())),Mt(Mt({},n.item),{},{client:\"/api/clients/\".concat(n.item.client.id)})).then((function(t){return t.data})).catch((function(t){var n=t.response.data;if(n.violations){var i={};n.violations.map((function(t){Object.assign(i,zt({},t.propertyPath,t.message))})),e(\"\".concat(r,\"_SET_ERRORS\"),i)}var a=n[\"hydra:description\"]?n[\"hydra:description\"]:n.message;throw e(\"\".concat(r,\"_SET_ERROR\"),a),n}))},updateVente:function(t){var e=t.commit,n=t.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"VENTE\";return e(\"\".concat(i,\"_SET_ERROR\"),null),Qe.put(\"\".concat(void 0,\"/\").concat(L()(i.toLowerCase()),\"/\").concat(n.item.id),Mt(Mt({},n.item),{},{produit:[\"/api/produits/\".concat(n.item.produit)],client:\"/api/clients/\".concat(n.item.client.id)})).then((function(t){return t.data})).catch((function(t){var n=t.response.data;if(n.violations){var r={};n.violations.map((function(t){Object.assign(r,zt({},t.propertyPath,t.message))})),e(\"\".concat(i,\"_SET_ERRORS\"),r)}var a=n[\"hydra:description\"]?n[\"hydra:description\"]:n.message;throw e(\"\".concat(i,\"_SET_ERROR\"),a),n}))},removeVente:function(t,e){var n=t.dispatch,i=t.commit;return Q({dispatch:n,commit:i},\"VENTE\",e)},getProduits:function(t){var e=t.commit;Qe.get(\"/api/depots\").then((function(t){e(\"VENTE_SET_PROD_ITEM\",t.data[\"hydra:member\"])}))}},mutations:(zt(Tt={},Rt,(function(t,e){Object.assign(t,{item:e})})),zt(Tt,Nt,(function(t){Object.assign(t,{item:{id:null,produit:[],quantiteVendue:0,prixVenteTotal:0,prixNetPayer:0,dateVente:\"\",client:{id:null}}})})),zt(Tt,Dt,(function(t,e){t.item=Object.assign({},t.item,e)})),zt(Tt,$t,(function(t,e){Object.assign(t,{items:e})})),zt(Tt,At,(function(t,e){Object.assign(t,{error:e})})),zt(Tt,qt,(function(t,e){Object.assign(t,{errors:e})})),zt(Tt,It,(function(t){Object.assign(t,defaultState())})),zt(Tt,Ut,(function(t){t.vente=Object.assign(t,null)})),zt(Tt,\"setProduit\",(function(t,e){t.item.produit.push(e.id)})),zt(Tt,Ft,(function(t,e){Object.assign(t,{produits:e})})),zt(Tt,\"addProduit\",(function(t){t.items.push({id:t.counter++})})),zt(Tt,\"addVente\",(function(t,e){t.items.push(e)})),zt(Tt,\"allVentesFours\",(function(t,e){Object.assign(t,{ventesFours:e})})),zt(Tt,\"totalJournee\",(function(t,e){t.totalJournee=e})),Tt)},Bt=\"\".concat(\"FOURNISSEUR\",\"_RESET\"),Qt=\"\".concat(\"FOURNISSEUR\",\"_SET_ITEM\"),Ht=\"\".concat(\"FOURNISSEUR\",\"_UPDATE_ITEM\"),Yt=\"\".concat(\"FOURNISSEUR\",\"_SET_ITEMS\"),Kt=\"\".concat(\"FOURNISSEUR\",\"_SET_ERROR\"),Xt=\"\".concat(\"FOURNISSEUR\",\"_SET_ERRORS\"),Wt=(\"\".concat(\"FOURNISSEUR\",\"_SET_COUNT_DEPOT\"),\"\".concat(\"FOURNISSEUR\",\"_UPDATE_ONE_ITEM\")),Zt=\"\".concat(\"FOURNISSEUR\",\"_RESET_ITEM\");function te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ee,ne={namespaced:!0,state:{item:{fournisseurProduitsVendus:[]},items:[],error:null,errors:{}},getters:{fournisseur:function(t){return t.item},fournisseurs:function(t){return t.items},error:function(t){return t.error},errors:function(t){return t.errors},fournisseurProduitsVendus:function(t){var e=[];return t.items.map((function(t){t.fournisseurProduitsVendus.forEach((function(t){e.push(t)}))})),e}},actions:{getVentesFournisseur:function(t,e){var n=t.dispatch,i=t.commit;return J({dispatch:n,commit:i},\"FOURNISSEUR\",e)},getVente:function(t,e){var n=t.dispatch,i=t.commit;return G({dispatch:n,commit:i},\"FOURNISSEUR\",e)}},mutations:(te(Gt={},Qt,(function(t,e){Object.assign(t,{item:e})})),te(Gt,Zt,(function(t){Object.assign(t,{item:{fournisseurProduitsVendus:[]}})})),te(Gt,Ht,(function(t,e){t.item=Object.assign({},t.item,e)})),te(Gt,Yt,(function(t,e){Object.assign(t,{items:e})})),te(Gt,Kt,(function(t,e){Object.assign(t,{error:e})})),te(Gt,Xt,(function(t,e){Object.assign(t,{errors:e})})),te(Gt,Bt,(function(t){Object.assign(t,defaultState())})),te(Gt,Wt,(function(t){t.depot=Object.assign(t,null)})),Gt)},ie=\"\".concat(\"CLIENT\",\"_RESET\"),re=\"\".concat(\"CLIENT\",\"_SET_ITEM\"),ae=\"\".concat(\"CLIENT\",\"_UPDATE_ITEM\"),oe=\"\".concat(\"CLIENT\",\"_SET_ITEMS\"),se=\"\".concat(\"CLIENT\",\"_SET_ERROR\"),le=\"\".concat(\"CLIENT\",\"_SET_ERRORS\"),ce=(\"\".concat(\"CLIENT\",\"_SET_COUNT_DEPOT\"),\"\".concat(\"CLIENT\",\"_UPDATE_ONE_ITEM\")),ue=\"\".concat(\"CLIENT\",\"_RESET_ITEM\");function de(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ve,me={namespaced:!0,state:{item:{id:null,nomComplet:\"\",telephone:\"\",adresse:\"\"},items:[],error:null,errors:{}},getters:{client:function(t){return t.item},clients:function(t){return t.items},error:function(t){return t.error},errors:function(t){return t.errors}},actions:{getClients:function(t,e){var n=t.dispatch,i=t.commit;return J({dispatch:n,commit:i},\"CLIENT\",e)},createClient:function(t){var e=t.dispatch,n=t.commit,i=t.state;return B({dispatch:e,commit:n,state:i},\"CLIENT\")}},mutations:(de(ee={},re,(function(t,e){Object.assign(t,{item:e})})),de(ee,ue,(function(t){Object.assign(t,{item:{id:null,nomComplet:\"\",telephone:\"\",adresse:\"\"}})})),de(ee,ae,(function(t,e){t.item=Object.assign({},t.item,e)})),de(ee,oe,(function(t,e){Object.assign(t,{items:e})})),de(ee,se,(function(t,e){Object.assign(t,{error:e})})),de(ee,le,(function(t,e){Object.assign(t,{errors:e})})),de(ee,ie,(function(t){Object.assign(t,defaultState())})),de(ee,ce,(function(t){t.depot=Object.assign(t,null)})),ee)},pe=\"\".concat(\"PRODUIT\",\"_RESET\"),fe=\"\".concat(\"PRODUIT\",\"_SET_ITEM\"),he=\"\".concat(\"PRODUIT\",\"_UPDATE_ITEM\"),be=\"\".concat(\"PRODUIT\",\"_SET_ITEMS\"),ge=\"\".concat(\"PRODUIT\",\"_SET_ERROR\"),_e=\"\".concat(\"PRODUIT\",\"_SET_ERRORS\"),xe=(\"\".concat(\"PRODUIT\",\"_UPDATE_ONE_ITEM\"),\"\".concat(\"PRODUIT\",\"_RESET_ITEM\"));function ye(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ee,Pe={namespaced:!0,state:{item:{id:null,designation:\"\",taille:\"\",age:\"\",pointure:\"\",couleur:\"\",prixVente:0,fournisseur:\"\",categorie:\"\",quantite:\"\"},items:[],error:null,errors:{}},getters:{produit:function(t){return t.item},produits:function(t){return t.items},error:function(t){return t.error},errors:function(t){return t.errors}},actions:{getProduits:function(t,e){var n=t.dispatch,i=t.commit;return J({dispatch:n,commit:i},\"PRODUIT\",e)},createProduit:function(t){var e=t.commit,n=t.state,i=t.namespace,r=void 0===i?\"DEPOT\":i;return e(\"\".concat(r,\"_SET_ERROR\"),null),Qe.post(\"\".concat(void 0,\"/\").concat(L()(r.toLowerCase())),Oe(Oe({},n.item),{},{categorie:\"/api/categories/\".concat(n.item.categorie),fournisseur:\"/api/fournisseurs/\".concat(n.item.fournisseur)})).then((function(t){return t.data})).catch((function(t){var n=t.response.data;if(n.violations){var i={};n.violations.map((function(t){Object.assign(i,ke({},t.propertyPath,t.message))})),e(\"\".concat(r,\"_SET_ERRORS\"),i)}var a=n[\"hydra:description\"]?n[\"hydra:description\"]:n.message;throw e(\"\".concat(r,\"_SET_ERROR\"),a),n}))},updateProduit:function(t){var e=t.commit,n=t.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"DEPOT\";return e(\"\".concat(i,\"_SET_ERROR\"),null),Qe.put(\"\".concat(void 0,\"/\").concat(L()(i.toLowerCase()),\"/\").concat(n.item.id),Oe(Oe({},n.item),{},{categorie:\"/api/categories/\".concat(n.item.categorie),fournisseur:\"/api/fournisseurs/\".concat(n.item.fournisseur)})).then((function(t){return t.data})).catch((function(t){var n=t.response.data;if(n.violations){var r={};n.violations.map((function(t){Object.assign(r,ke({},t.propertyPath,t.message))})),e(\"\".concat(i,\"_SET_ERRORS\"),r)}var a=n[\"hydra:description\"]?n[\"hydra:description\"]:n.message;throw e(\"\".concat(i,\"_SET_ERROR\"),a),n}))},removeDepot:function(t,e){var n=t.dispatch,i=t.commit;return Q({dispatch:n,commit:i},\"PRODUIT\",e)}},mutations:(ke(ve={},fe,(function(t,e){Object.assign(t,{item:e})})),ke(ve,xe,(function(t){Object.assign(t,{item:{id:null,designation:\"\",taille:\"\",age:\"\",pointure:\"\",couleur:\"\",prixVente:0,fournisseur:\"\",categorie:\"\",quantite:\"\"}})})),ke(ve,he,(function(t,e){t.item=Object.assign({},t.item,e)})),ke(ve,be,(function(t,e){Object.assign(t,{items:e})})),ke(ve,ge,(function(t,e){Object.assign(t,{error:e})})),ke(ve,_e,(function(t,e){Object.assign(t,{errors:e})})),ke(ve,pe,(function(t){Object.assign(t,defaultState())})),ve)},je=\"\".concat(\"VENTE_PRODUITS\",\"_SET_VENTE\"),we=\"\".concat(\"VENTE_PRODUITS\",\"_SET_ITEM\"),Se=\"\".concat(\"VENTE_PRODUITS\",\"_UPDATE_ITEM\"),Ve=\"\".concat(\"VENTE_PRODUITS\",\"_RESET_ITEM\"),Te=(\"\".concat(\"VENTE_PRODUITS\",\"_UPDATE_ITEM_PRODUIT\"),\"\".concat(\"VENTE_PRODUITS\",\"_SET_ERROR\")),Ce=\"\".concat(\"VENTE_PRODUITS\",\"_SET_ERRORS\");function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){De(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function De(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $e,Ae={namespaced:!0,state:{item:{id:null,vente:{id:null},produit:{id:null,categorie:{}},quantiteVendue:0,prixVenteTotal:\"\",prixNetPayer:\"\",commentaire:\"\",status:\"\"},items:{},venteProduits:{client:{},venteProduits:[]},error:null,errors:{},produits:[],counter:10},getters:{produitsVente:function(t){return t.item},produitsVentes:function(t){return t.venteProduits},error:function(t){return t.error},errors:function(t){return t.errors}},actions:{getVentesProduits:function(t,e){var n=t.dispatch,i=t.commit;return J({dispatch:n,commit:i},\"VENTE_PRODUITS\",e)},updateVenteProduits:function(t){var e=t.commit,n=t.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"VENTE_PRODUITS\";return e(\"\".concat(i,\"_SET_ERROR\"),null),Qe.put(\"\".concat(void 0,\"/\").concat(L()(i.toLowerCase()),\"/\").concat(n.item.id),Re(Re({},n.item),{},{produit:\"/api/produits/\".concat(n.item.produit.id)})).then((function(t){return t.data})).catch((function(t){var n=t.response.data;if(n.violations){var r={};n.violations.map((function(t){Object.assign(r,De({},t.propertyPath,t.message))})),e(\"\".concat(i,\"_SET_ERRORS\"),r)}var a=n[\"hydra:description\"]?n[\"hydra:description\"]:n.message;throw e(\"\".concat(i,\"_SET_ERROR\"),a),n}))}},mutations:(De(Ee={},je,(function(t,e){Object.assign(t,{venteProduits:e})})),De(Ee,Se,(function(t,e){t.item=Object.assign({},t.item,e)})),De(Ee,we,(function(t,e){Object.assign(t,{item:e})})),De(Ee,Ve,(function(t){Object.assign(t,{item:{id:null,vente:{id:null},produit:{id:null,categorie:{}},quantiteVendue:0,prixVenteTotal:\"\",prixNetPayer:\"\",commentaire:\"\",status:\"\"}})})),De(Ee,Te,(function(t,e){Object.assign(t,{error:e})})),De(Ee,Ce,(function(t,e){Object.assign(t,{errors:e})})),De(Ee,\"setProduit\",(function(t,e){t.item.produit=e,t.item.quantiteVendue=0,t.item.prixVenteTotal=0})),De(Ee,\"calculQttPrx\",(function(t,e){t.item.quantiteVendue=e,t.item.prixVenteTotal=(t.item.produit.prixVente*e).toString()})),De(Ee,\"setStatus\",(function(t,e){t.item.status=e})),Ee)},qe=\"\".concat(\"AUTRES_OPERATION\",\"_RESET\"),Ue=\"\".concat(\"AUTRES_OPERATION\",\"_SET_ITEM\"),Ne=\"\".concat(\"AUTRES_OPERATION\",\"_UPDATE_ITEM\"),Fe=\"\".concat(\"AUTRES_OPERATION\",\"_SET_ITEMS\"),Le=\"\".concat(\"AUTRES_OPERATION\",\"_SET_ERROR\"),Me=\"\".concat(\"AUTRES_OPERATION\",\"_SET_ERRORS\"),ze=(\"\".concat(\"AUTRES_OPERATION\",\"_SET_COUNT_DEPOT\"),\"\".concat(\"AUTRES_OPERATION\",\"_UPDATE_ONE_ITEM\"),\"\".concat(\"AUTRES_OPERATION\",\"_RESET_ITEM\"));function Ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Je={namespaced:!0,state:{item:{id:null,libelle:\"\",montant:\"\",commentaire:\"\",dateOperation:\"\"},items:[],error:null,errors:{}},getters:{operations:function(t){return t.item},operation:function(t){return t.items},error:function(t){return t.error},errors:function(t){return t.errors}},actions:{getOperations:function(t,e){var n=t.dispatch,i=t.commit;return J({dispatch:n,commit:i},\"AUTRES_OPERATION\",e)},createOperation:function(t){var e=t.dispatch,n=t.commit,i=t.state;return B({dispatch:e,commit:n,state:i},\"AUTRES_OPERATION\")}},mutations:(Ge($e={},Ue,(function(t,e){Object.assign(t,{item:e})})),Ge($e,ze,(function(t){Object.assign(t,{item:{id:null,libelle:\"\",montant:\"\",commentaire:\"\",dateOperation:\"\"}})})),Ge($e,Ne,(function(t,e){t.item=Object.assign({},t.item,e)})),Ge($e,Fe,(function(t,e){Object.assign(t,{items:e})})),Ge($e,Le,(function(t,e){Object.assign(t,{error:e})})),Ge($e,Me,(function(t,e){Object.assign(t,{errors:e})})),Ge($e,qe,(function(t){Object.assign(t,defaultState())})),$e)};o.default.use(g.a);var Be=new g.a.Store({strict:!1,modules:{general:N,auth:D,user:gt,depot:Ct,vente:Jt,fournisseur:ne,client:me,produit:Pe,produits_vente:Ae,autres_operations:Je}});w.a.defaults.timeout=3e4,w.a.interceptors.request.use((function(t){Be.commit(\"general/\".concat(\"LOADING_START\"));var e=Be.getters[\"auth/jwtDecoded\"]||null;return e&&e.exp>Date.now()/1e3&&(t.headers.common.Authorization=\"Bearer \".concat(Be.state.auth.token)),t}),(function(t){return Be.commit(\"general/\".concat(\"LOADING_STOP\")),Promise.reject(t)})),w.a.interceptors.response.use((function(t){return Be.commit(\"general/\".concat(\"LOADING_STOP\")),t}),(function(t){return Be.commit(\"general/\".concat(\"LOADING_STOP\")),t.response.data&&t.response.data.code&&401===t.response.data.code&&(localStorage.removeItem(\"token\"),localStorage.removeItem(\"roles\"),window.location.href=\"/\"),Promise.reject(t)}));var Qe=w.a;function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?He(Object(n),!0).forEach((function(e){Ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xe={components:{InputDynamic:P},data:function(){return{token_access:this.$route.params.token_access,multiLine:!0,snackbar:!1,dialog:!1,text:\"\",files:null,valid:!1,categories:[],fournisseur:{},produit:{designation:\"\",taille:\"\",age:\"\",pointure:\"\",couleur:\"\",prixVente:\"\",categorie:\"\",quantite:\"\"},categorie:{id:0,libelle:\"\",files:null},items:[{id:0,designation:\"\",taille:\"\",age:\"\",pointure:\"\",couleur:\"\",prixVente:\"\",categorie:\"\",quantite:\"\"}],counter:10,dialogProd:!1,notifications:!1,sound:!0,widgets:!1}},mounted:function(){this.token_access&&localStorage.setItem(\"token_access\",this.token_access)},computed:Ye({},Object(g.c)({})),methods:Ye({goto:function(t){this.$router.push({name:t})},createProduit:function(){var t=localStorage.getItem(\"token_access\");Qe.post(\"api/produits\",{produits:this.items,token_access:t}).then((function(t){})).catch((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.categorie=Object.assign({},t.categorie)})),this.$refs.form.reset()},createCategorie:function(){var t=this,e=new FormData;e.append(\"image\",this.categorie.files),e.append(\"libelle\",this.categorie.libelle),e.append(\"id\",this.categorie.id),Qe.post(\"api/newCategorie\",e).then((function(e){t.close(),t.$refs.form.reset(),t.$refs.form.resetValidation(),t.fetchCategories()})).catch((function(t){console.log(t)}))},fetchCategories:function(){var t=this;Qe.get(\"/api/showcategory\").then((function(e){t.categories=e.data}))},add:function(){this.items.push({id:this.counter++,designation:\"\",taille:\"\",age:\"\",pointure:\"\",couleur:\"\",prixVente:\"\",categorie:\"\",quantite:\"\"})},ajoutProduit:function(t){var e=this.items.length;this.items[e-1].produit=t,this.items[e-1].produit.prixVente=t.prixVente,this.dialogProd=!1}},Object(g.b)({})),created:function(){this.fetchCategories()}},We=(n(\"GO6x\"),Object(u.a)(Xe,b,[],!1,null,\"36082654\",null));We.options.__file=\"vue/pages/Test.vue\";var Ze=We.exports,tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Clients\")]),t._v(\" \"),n(\"v-card\",[n(\"v-data-table\",{staticClass:\"elevation-1\",attrs:{headers:t.headers,items:t.clients,page:t.page,\"items-per-page\":t.itemsPerPage,search:t.search},on:{\"update:page\":function(e){t.page=e}},scopedSlots:t._u([{key:\"top\",fn:function(){return[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Recherche\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.dialog=!0}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-book-account\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter un client\")])],1)],1)],1)],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\"}},[n(\"v-row\",{attrs:{justify:\"start\"}},[n(\"v-text-field\",{attrs:{label:\"Date de début\",\"append-icon\":\"event\",\"single-line\":\"\",type:\"date\"},model:{value:t.date.dateStart,callback:function(e){t.$set(t.date,\"dateStart\",e)},expression:\"date.dateStart\"}}),t._v(\"   \\n              \"),n(\"v-text-field\",{attrs:{label:\"Date de fin\",\"append-icon\":\"event\",\"single-line\":\"\",type:\"date\"},model:{value:t.date.dateEnd,callback:function(e){t.$set(t.date,\"dateEnd\",e)},expression:\"date.dateEnd\"}}),t._v(\" \"),n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){return t.fetchClients()}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-book-account\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Rechercher\")])],1)],1)],1)],1),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(t._s(t.formTitle))])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-form\",{ref:\"form\",attrs:{valid:\"\"},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\"}},[n(\"v-text-field\",{attrs:{rules:t.ItemRules,required:\"\",label:\"Nom complet\"},model:{value:t.editedItem.nomComplet,callback:function(e){t.$set(t.editedItem,\"nomComplet\",e)},expression:\"editedItem.nomComplet\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\"}},[n(\"v-text-field\",{attrs:{required:\"\",label:\"Téléphone\"},model:{value:t.editedItem.telephone,callback:function(e){t.$set(t.editedItem,\"telephone\",e)},expression:\"editedItem.telephone\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\"}},[n(\"v-text-field\",{attrs:{required:\"\",label:\"Adresse\"},model:{value:t.editedItem.adresse,callback:function(e){t.$set(t.editedItem,\"adresse\",e)},expression:\"editedItem.adresse\"}})],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:t.close}},[t._v(\"Annuler\")]),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\",disabled:!t.valid},on:{click:t.save}},[t._v(\"Enregistrer\")])],1)],1)],1)]},proxy:!0},{key:\"item.ligne\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(i.index))])])]}},{key:\"item.createdAt\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(t.crmDateFormat(i.createdAt)))])])]}},{key:\"item.updatedAt\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(t.crmDateFormat(i.updatedAt)))])])]}},{key:\"item.actions\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"primary\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.editItem(i)}}},[n(\"v-icon\",[t._v(\"mdi-pencil\")])],1)],1),t._v(\"   \\n          \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"error\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.deleteItem(i)}}},[n(\"v-icon\",[t._v(\"mdi-delete\")])],1)],1)])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"},on:{click:t.fetchClients}},[t._v(\"Reset\")])]},proxy:!0}])},[t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),n(\"div\",{staticClass:\"text-center pt-2\"},[n(\"v-pagination\",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:\"page\"}}),t._v(\" \"),n(\"v-text-field\",{attrs:{value:t.itemsPerPage,label:\"Items per page\",type:\"number\",min:\"-1\",max:\"15\"},on:{input:function(e){t.itemsPerPage=parseInt(e,10)}}})],1)])],1)],1)};tn._withStripped=!0;n(\"yXV3\"),n(\"pDQq\");var en=n(\"Hxz7\"),nn=n.n(en),rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"v-menu\",{attrs:{\"close-on-content-click\":!1,\"nudge-right\":40,transition:\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"300px\"},scopedSlots:t._u([{key:\"activator\",fn:function(e){var i=e.on;return[n(\"v-text-field\",t._g({attrs:{label:t.label,\"prepend-icon\":\"event\",readonly:\"\"},model:{value:t.date,callback:function(e){t.date=e},expression:\"date\"}},i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:\"menu2\"}},[t._v(\" \"),n(\"v-date-picker\",{on:{input:function(e){t.menu2=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:\"date\"}})],1)],1)};rn._withStripped=!0;var an={name:\"date-picker_field\",props:{label:{type:String,default:\"\"},date:{type:String,default:null}},data:function(){return{menu:!1,modal:!1,menu2:!1,dialog:!1}}},on=Object(u.a)(an,rn,[],!1,null,\"c10d7ac2\",null);on.options.__file=\"vue/components/layout/fields/DatePicker.vue\";var sn={name:\"client\",components:{DateFieldPicker:on.exports},data:function(){return{date:{dateStart:\"\",dateEnd:\"\"},dialog:!1,valid:!0,search:\"\",page:1,pageCount:0,itemsPerPage:12,headers:[{text:\"ID\",align:\"start\",sortable:!1,value:\"ligne\"},{text:\"Nom Complet\",value:\"nomComplet\",sortable:!1},{text:\"Téléphone\",value:\"telephone\",sortable:!1},{text:\"adresse\",value:\"adresse\",sortable:!1},{text:\"Crée le\",value:\"createdAt\",sortable:!1},{text:\"Modifié le\",value:\"updatedAt\",sortable:!1},{text:\"Actions\",value:\"actions\",sortable:!1}],clients:[],editedIndex:-1,editedItem:{id:0,nomComplet:\"\",telephone:\"\",adresse:\"\"},ItemRules:[function(t){return!!t||\"Champ requise\"}],defaultItem:{nomComplet:\"\",telephone:\"\",adresse:\"\"}}},computed:{formTitle:function(){return-1===this.editedIndex?\"Ajout Client\":\"Modifier Client\"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.fetchClients()},methods:{fetchClients:function(){var t=this;Qe.get(\"/api/clients/\".concat(this.date.dateStart,\"/\").concat(this.date.dateEnd)).then((function(e){console.log(e.data[\"hydra:member\"]),t.clients=e.data[\"hydra:member\"]}))},editItem:function(t){Qe.get(\"/api/client/\"+t.id).then((function(t){})),this.editedIndex=this.clients.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.clients.indexOf(t);confirm(\"Voulez-vous vraiment supprimer ?\")&&this.clients.splice(e,1),Qe.delete(\"/api/client/\"+t.id).then((function(t){}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1})),this.$refs.form.reset()},save:function(){this.$refs.form.validate(),this.editedIndex>-1?(Qe.post(\"/api/client/\"+this.editedItem.id+\"/edit\",{nomComplet:this.editedItem.nomComplet,telephone:this.editedItem.telephone,adresse:this.editedItem.adresse}).then((function(t){nn.a.success(t.data.message)})),Object.assign(this.clients[this.editedIndex],this.editedItem)):(Qe.post(\"\".concat(void 0,\"/client/new\"),{nomComplet:this.editedItem.nomComplet,telephone:this.editedItem.telephone,adresse:this.editedItem.adresse}).then((function(t){nn.a.success(t.data.message)})),this.clients.push(this.editedItem)),this.close(),this.fetchClients(),this.$refs.form.reset(),this.$refs.form.resetValidation()}}},ln=Object(u.a)(sn,tn,[],!1,null,null,null);ln.options.__file=\"vue/pages/client/Client.vue\";var cn=ln.exports,un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Fournisseurs\")]),t._v(\" \"),n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"input\",{ref:\"excel-upload-input\",staticClass:\"excel-upload-input\",attrs:{type:\"file\",accept:\".xlsx, .xls\"},on:{change:t.handleClick}})]),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-btn\",{staticStyle:{color:\"#555\"}},[n(\"vue-excel-xlsx\",{attrs:{data:t.fournisseurTab,columns:t.fournisseurTab,filename:\"fournisseur\",sheetname:\"sheetname\"}},[t._v(\"\\n            Telecharger format\\n            \"),n(\"v-icon\",{staticStyle:{color:\"#555\"}},[t._v(\"mdi-download\")])],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-card\",[n(\"v-data-table\",{staticClass:\"elevation-1\",attrs:{headers:t.headers,items:t.fournisseurs,page:t.page,\"items-per-page\":t.itemsPerPage,search:t.search},on:{\"update:page\":function(e){t.page=e}},scopedSlots:t._u([{key:\"top\",fn:function(){return[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Recherche\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.dialog=!0}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-text-box-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter un fournisseur\")])],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(t._s(t.formTitle))])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-form\",{ref:\"form\",attrs:{valid:\"\"},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{rules:t.ItemRules,label:\"Structure\"},model:{value:t.editedItem.structure,callback:function(e){t.$set(t.editedItem,\"structure\",e)},expression:\"editedItem.structure\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{rules:t.ItemRules,label:\"Nom Gérant\"},model:{value:t.editedItem.nomGerant,callback:function(e){t.$set(t.editedItem,\"nomGerant\",e)},expression:\"editedItem.nomGerant\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"12\"}},[n(\"v-text-field\",{attrs:{rules:t.emailRules,label:\"Email\"},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,\"email\",e)},expression:\"editedItem.email\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{rules:t.ItemRules,label:\"Tel\"},model:{value:t.editedItem.tel,callback:function(e){t.$set(t.editedItem,\"tel\",e)},expression:\"editedItem.tel\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{rules:t.ItemRules,label:\"Adresse\"},model:{value:t.editedItem.adresse,callback:function(e){t.$set(t.editedItem,\"adresse\",e)},expression:\"editedItem.adresse\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Commission\",type:\"number\"},model:{value:t.editedItem.commission,callback:function(e){t.$set(t.editedItem,\"commission\",e)},expression:\"editedItem.commission\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{type:\"number\",label:\"Frais d'exposition\"},model:{value:t.editedItem.fraisExposition,callback:function(e){t.$set(t.editedItem,\"fraisExposition\",e)},expression:\"editedItem.fraisExposition\"}})],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:t.close}},[t._v(\"Annuler\")]),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\",disabled:!t.valid},on:{click:t.save}},[t._v(\"Enregistrer\")])],1)],1)],1)]},proxy:!0},{key:\"item.createAt\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(t.crmDateFormat(i.createAt)))])])]}},{key:\"item.updateAt\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(t.crmDateFormat(i.updateAt)))])])]}},{key:\"item.actions\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"primary\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.editItem(i)}}},[n(\"v-icon\",[t._v(\"mdi-pencil\")])],1)],1),t._v(\"   \\n          \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"error\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.deleteItem(i)}}},[n(\"v-icon\",[t._v(\"mdi-delete\")])],1)],1)])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"},on:{click:t.fetchfournisseurs}},[t._v(\"Reset\")])]},proxy:!0}])},[t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),n(\"div\",{staticClass:\"text-center pt-2\"},[n(\"v-pagination\",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:\"page\"}}),t._v(\" \"),n(\"v-text-field\",{attrs:{value:t.itemsPerPage,label:\"Items per page\",type:\"number\",min:\"-1\",max:\"15\"},on:{input:function(e){t.itemsPerPage=parseInt(e,10)}}})],1)])],1)],1)};un._withStripped=!0;var dn=n(\"EUZL\"),vn=n.n(dn),mn={name:\"fournisseur\",props:{beforeUpload:Function,onSuccess:Function},data:function(){return{dialog:!1,valid:!0,excelData:{header:null,results:null},search:\"\",page:1,pageCount:0,itemsPerPage:12,fournisseurTab:[{label:\"structure\",field:\"structure\"},{label:\"nomGerant\",field:\"nomGerant\"},{label:\"email\",field:\"email\"},{label:\"Telephone\",field:\"tel\"},{label:\"Adresse\",field:\"adresse\"}],headers:[{text:\"ID\",align:\"start\",sortable:!1,value:\"ligne\"},{text:\"Structure\",align:\"start\",sortable:!1,value:\"structure\"},{text:\"Nom Gérant\",value:\"nomGerant\",sortable:!1},{text:\"Téléphone\",value:\"tel\",sortable:!1},{text:\"Email\",value:\"email\",sortable:!1},{text:\"Adresse\",value:\"adresse\",sortable:!1},{text:\"Commission\",value:\"commission\",sortable:!1},{text:\"Frais d'exposition\",value:\"fraisExposition\",sortable:!1},{text:\"Crée le\",value:\"createAt\",sortable:!1},{text:\"Modifié le\",value:\"updateAt\",sortable:!1},{text:\"Actions\",value:\"actions\",sortable:!1}],fournisseurs:[],editedIndex:-1,editedItem:{id:0,structure:\"\",nomGerant:\"\",tel:\"\",email:\"\",adresse:\"\",commission:\"\",fraisExposition:\"\"},ItemRules:[function(t){return!!t||\"Champ requise\"}],emailRules:[function(t){return!!t||\"E-mail requise\"},function(t){return/.+@.+\\..+/.test(t)||\"E-mail doit etre valide\"}],defaultItem:{structure:\"\",nomGerant:\"\",tel:\"\",email:\"\",adresse:\"\",commission:\"\",fraisExposition:\"\"}}},computed:{formTitle:function(){return-1===this.editedIndex?\"Ajout Fournisseur\":\"Modifié Fournisseur\"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.fetchfournisseurs()},methods:{fetchfournisseurs:function(){var t=this;Qe.get(\"/api/fournisseur/\").then((function(e){console.log(e.data),t.fournisseurs=e.data}))},editItem:function(t){console.log(t.id),Qe.get(\"/api/fournisseur/\"+t.id).then((function(t){console.log(t)})),this.editedIndex=this.fournisseurs.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){console.log(t);var e=this.fournisseurs.indexOf(t);confirm(\"Voulez-vous vraiment supprimer ?\")&&this.fournisseurs.splice(e,1),Qe.delete(\"/api/fournisseur/\"+t.id).then((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1})),this.$refs.form.reset()},save:function(){var t=this;this.$refs.form.validate(),this.editedIndex>-1?(console.log(this.editedItem.id),Qe.post(\"/api/fournisseur/\"+this.editedItem.id+\"/edit\",{structure:this.editedItem.structure,nomGerant:this.editedItem.nomGerant,tel:this.editedItem.tel,email:this.editedItem.email,adresse:this.editedItem.adresse,commission:this.editItem.commission,fraisExposition:this.editItem.fraisExposition}).then((function(e){console.log(e),t.fetchfournisseurs()})),Object.assign(this.fournisseurs[this.editedIndex],this.editedItem)):(Qe.post(\"\".concat(void 0,\"/fournisseur/new\"),{structure:this.editedItem.structure,nomGerant:this.editedItem.nomGerant,tel:this.editedItem.tel,email:this.editedItem.email,adresse:this.editedItem.adresse,commission:this.editedItem.commission,fraisExposition:this.editedItem.fraisExposition}).then((function(t){console.log(t)})),this.fournisseurs.push(this.editedItem)),this.close(),this.fetchfournisseurs(),this.$refs.form.reset(),this.$refs.form.resetValidation()},insertion:function(){var t=this;Qe.post(\"/api/fournisseur/mass\",{fournisseur:this.excelData}).then((function(e){console.log(e);var n=e.data.message,i=e.data.status;201==i&&(Vue.$toast.success(n,{position:\"top-right\",duration:3e3}),t.fetchusers()),401==i&&Vue.$toast.error(n,{position:\"top-right\",duration:5e3})}))},generateData:function(t){var e=t.header,n=t.results;this.excelData.header=e,this.excelData.results=n,this.onSuccess&&this.onSuccess(this.excelData),this.insertion()},handleDrop:function(t){if(t.stopPropagation(),t.preventDefault(),!this.loading){var e=t.dataTransfer.files;if(1===e.length){var n=e[0];if(!this.isExcel(n))return this.$message.error(\"Only supports upload .xlsx, .xls, .csv suffix files\"),!1;this.upload(n),t.stopPropagation(),t.preventDefault()}else this.$message.error(\"Only support uploading one file!\")}},handleDragover:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect=\"copy\"},handleUpload:function(){this.$refs[\"excel-upload-input\"].click()},handleClick:function(t){var e=t.target.files[0];e&&this.upload(e)},upload:function(t){(this.$refs[\"excel-upload-input\"].value=null,this.beforeUpload)?this.beforeUpload(t)&&this.readerData(t):this.readerData(t)},readerData:function(t){var e=this;return this.loading=!0,new Promise((function(n,i){var r=new FileReader;r.onload=function(t){var i=t.target.result,r=vn.a.read(i,{type:\"array\"}),a=r.SheetNames[0],o=r.Sheets[a],s=e.getHeaderRow(o),l=vn.a.utils.sheet_to_json(o);e.generateData({header:s,results:l}),e.loading=!1,n()},r.readAsArrayBuffer(t)}))},getHeaderRow:function(t){var e,n=[],i=vn.a.utils.decode_range(t[\"!ref\"]),r=i.s.r;for(e=i.s.c;e<=i.e.c;++e){var a=t[vn.a.utils.encode_cell({c:e,r:r})],o=\"UNKNOWN \"+e;a&&a.t&&(o=vn.a.utils.format_cell(a)),n.push(o)}return n},isExcel:function(t){return/\\.(xlsx|xls|csv)$/.test(t.name)}}},pn=Object(u.a)(mn,un,[],!1,null,null,null);pn.options.__file=\"vue/pages/fournisseur/Fournisseur.vue\";var fn=pn.exports,hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Catégories\")]),t._v(\" \"),n(\"v-card\",[n(\"v-data-table\",{staticClass:\"elevation-1\",attrs:{headers:t.headers,items:t.categories,page:t.page,\"items-per-page\":t.itemsPerPage,search:t.search},on:{\"update:page\":function(e){t.page=e}},scopedSlots:t._u([{key:\"top\",fn:function(){return[n(\"v-spacer\"),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{\"max-width\":\"600px\"},model:{value:t.details,callback:function(e){t.details=e},expression:\"details\"}},[n(\"v-card\",{staticClass:\"d-inline-block mx-auto\"},[n(\"v-container\",[n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-col\",{attrs:{cols:\"auto\"}},[n(\"v-img\",{staticClass:\"img\",attrs:{src:\"/documents/\"+t.path,alt:\"logo\"}})],1)],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Recherche\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.dialog=!0}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-book-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter une catégorie\")])],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(t._s(t.formTitle))])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-form\",{ref:\"form\",attrs:{valid:\"\"},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{rules:t.ItemRules,label:\"Libelle\"},model:{value:t.editedItem.libelle,callback:function(e){t.$set(t.editedItem,\"libelle\",e)},expression:\"editedItem.libelle\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-file-input\",{ref:\"file\",staticClass:\"input-group-prepend\",attrs:{accept:\"image/*\",label:\"File input\",type:\"file\",id:\"file\"},model:{value:t.files,callback:function(e){t.files=e},expression:\"files\"}})],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:t.close}},[t._v(\"Annuler\")]),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\",disabled:!t.valid},on:{click:t.save}},[t._v(\"Enregistrer\")])],1)],1)],1)]},proxy:!0},{key:\"item.createAt\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(t.crmDateFormat(i.createAt)))])])]}},{key:\"item.updateAt\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(t.crmDateFormat(i.updateAt)))])])]}},{key:\"item.actions\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"black\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.open(i)}}},[n(\"v-icon\",[t._v(\"mdi-eye\")])],1)],1),t._v(\"   \\n          \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"primary\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.editItem(i)}}},[n(\"v-icon\",[t._v(\"mdi-pencil\")])],1)],1),t._v(\"   \\n          \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"error\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.deleteItem(i)}}},[n(\"v-icon\",[t._v(\"mdi-delete\")])],1)],1)])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"},on:{click:t.fetchCategories}},[t._v(\"Reset\")])]},proxy:!0}])},[t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),n(\"div\",{staticClass:\"text-center pt-2\"},[n(\"v-pagination\",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:\"page\"}}),t._v(\" \"),n(\"v-text-field\",{attrs:{value:t.itemsPerPage,label:\"Items per page\",type:\"number\",min:\"-1\",max:\"15\"},on:{input:function(e){t.itemsPerPage=parseInt(e,10)}}})],1)])],1)],1)};hn._withStripped=!0;var bn={name:\"categorie\",data:function(){return{path:\"\",dialog:!1,details:!1,valid:!0,files:null,search:\"\",page:1,pageCount:0,itemsPerPage:12,headers:[{text:\"ID\",align:\"start\",sortable:!1,value:\"ligne\"},{text:\"Libelle\",align:\"start\",sortable:!1,value:\"libelle\"},{text:\"Crée le\",value:\"createAt\",sortable:!1},{text:\"Modifié le\",value:\"updateAt\",sortable:!1},{text:\"Actions\",value:\"actions\",sortable:!1}],categories:[],editedIndex:-1,editedItem:{id:0,libelle:\"\"},ItemRules:[function(t){return!!t||\"Champ requise\"}],defaultItem:{libelle:\"\"}}},computed:{formTitle:function(){return-1===this.editedIndex?\"Ajout Catégorie\":\"Modifié Catégorie\"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.fetchCategories()},methods:{open:function(t){this.details=!0,this.path=t.image,console.log(this.path)},fetchCategories:function(){var t=this;w.a.get(\"/api/showcategory\").then((function(e){console.log(e.data),t.categories=e.data}))},editItem:function(t){console.log(t.id),w.a.get(\"/modifierCategorie/\"+t.id).then((function(t){console.log(t)})),this.editedIndex=this.categories.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){console.log(t);var e=this.categories.indexOf(t);confirm(\"Voulez-vous vraiment supprimer ?\")&&this.categories.splice(e,1),w.a.delete(\"/api/archiverCategory/\"+t.id).then((function(t){console.log(t)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1})),this.$refs.form.reset()},save:function(){var t=this;this.$refs.form.validate(),console.log(this.editedItem.id);var e=new FormData;e.append(\"image\",this.files),e.append(\"libelle\",this.editedItem.libelle),e.append(\"id\",this.editedItem.id),this.editedIndex>-1?(w.a.post(\"/api/modifierCategorie\",e).then((function(e){console.log(e),t.fetchCategories()})),Object.assign(this.categories[this.editedIndex],this.editedItem)):(w.a.post(\"api/newCategorie\",e).then((function(t){})),this.categories.push(this.editedItem)),this.close(),this.fetchCategories(),this.$refs.form.reset(),this.$refs.form.resetValidation()},onFileSelected:function(t){}}},gn=Object(u.a)(bn,hn,[],!1,null,null,null);gn.options.__file=\"vue/pages/categorie/Categorie.vue\";var _n=gn.exports,xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Produits\")]),t._v(\" \"),n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"input\",{ref:\"excel-upload-input\",staticClass:\"excel-upload-input\",attrs:{type:\"file\",accept:\".xlsx, .xls\"},on:{change:t.handleClick}})]),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-btn\",{staticStyle:{color:\"#555\"}},[n(\"vue-excel-xlsx\",{attrs:{data:t.produitTab,columns:t.produitTab,filename:\"produit\",sheetname:\"sheetname\"}},[t._v(\"\\n            Telecharger format\\n            \"),n(\"v-icon\",{staticStyle:{color:\"#555\"}},[t._v(\"mdi-download\")])],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-card\",[n(\"v-data-table\",{staticClass:\"elevation-1\",attrs:{headers:t.headers,items:t.produits,page:t.page,\"items-per-page\":t.itemsPerPage,search:t.search},on:{\"update:page\":function(e){t.page=e}},scopedSlots:t._u([{key:\"top\",fn:function(){return[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Recherche\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.dialog=!0}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-tag-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter un produit\")])],1)],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.dialogFournisseur=!0}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-account-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Dépot par un fournisseur\")])],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"1000px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(t._s(t.formTitle))])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-form\",{ref:\"form\",attrs:{valid:\"\"},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{rules:t.produitRules,required:\"\",label:\"Désignation\"},model:{value:t.editedItem.designation,callback:function(e){t.$set(t.editedItem,\"designation\",e)},expression:\"editedItem.designation\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{required:\"\",label:\"Taille\"},model:{value:t.editedItem.taille,callback:function(e){t.$set(t.editedItem,\"taille\",e)},expression:\"editedItem.taille\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{required:\"\",label:\"Age\"},model:{value:t.editedItem.age,callback:function(e){t.$set(t.editedItem,\"age\",e)},expression:\"editedItem.age\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{required:\"\",label:\"Pointure\"},model:{value:t.editedItem.pointure,callback:function(e){t.$set(t.editedItem,\"pointure\",e)},expression:\"editedItem.pointure\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{required:\"\",label:\"Couleur\"},model:{value:t.editedItem.couleur,callback:function(e){t.$set(t.editedItem,\"couleur\",e)},expression:\"editedItem.couleur\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{required:\"\",label:\"Quantite\"},model:{value:t.editedItem.quantite,callback:function(e){t.$set(t.editedItem,\"quantite\",t._n(e))},expression:\"editedItem.quantite\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{rules:t.produitRules,required:\"\",label:\"Prix Vente\"},model:{value:t.editedItem.prixVente,callback:function(e){t.$set(t.editedItem,\"prixVente\",e)},expression:\"editedItem.prixVente\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"12\"}},[n(\"v-select\",{attrs:{items:t.structure,rules:t.produitRules,required:\"\",label:\"Fournisseur\"},model:{value:t.editedItem.structure,callback:function(e){t.$set(t.editedItem,\"structure\",e)},expression:\"editedItem.structure\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"12\"}},[n(\"v-select\",{attrs:{items:t.libelle,rules:t.produitRules,required:\"\",label:\"Catégorie\"},model:{value:t.editedItem.libelle,callback:function(e){t.$set(t.editedItem,\"libelle\",e)},expression:\"editedItem.libelle\"}})],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:t.close}},[t._v(\"Annuler\")]),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\",disabled:!t.valid},on:{click:t.save}},[t._v(\"Enregistrer\")])],1)],1)],1),t._v(\" \"),n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"1000px\"},model:{value:t.dialogFournisseur,callback:function(e){t.dialogFournisseur=e},expression:\"dialogFournisseur\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Sélectionner un fournisseur\")])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-form\",{ref:\"form\",attrs:{valid:\"\"},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"12\"}},[n(\"v-autocomplete\",{attrs:{items:t.allFournisseurs,\"item-text\":\"structure\",\"item-value\":\"id\",rules:t.produitRules,required:\"\",label:\"Fournisseur\"},model:{value:t.idFournisseur,callback:function(e){t.idFournisseur=e},expression:\"idFournisseur\"}})],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:t.close}},[t._v(\"Annuler\")]),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\",disabled:!t.valid},on:{click:t.depotFournisseur}},[t._v(\"Envoyer\")])],1)],1)],1)]},proxy:!0},{key:\"item.createAt\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(t.crmDateFormat(i.createAt)))])])]}},{key:\"item.updateAt\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(t.crmDateFormat(i.updateAt)))])])]}},{key:\"item.actions\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"primary\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.editItem(i)}}},[n(\"v-icon\",[t._v(\"mdi-pencil\")])],1)],1),t._v(\"   \\n          \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"error\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.deleteItem(i)}}},[n(\"v-icon\",[t._v(\"mdi-delete\")])],1)],1)])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"},on:{click:t.fetchproduits}},[t._v(\"Reset\")])]},proxy:!0}])},[t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),t._v(\" \"),n(\"div\",{staticClass:\"text-center pt-2\"},[n(\"v-pagination\",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:\"page\"}}),t._v(\" \"),n(\"v-text-field\",{attrs:{value:t.itemsPerPage,label:\"Items per page\",type:\"number\",min:\"-1\",max:\"15\"},on:{input:function(e){t.itemsPerPage=parseInt(e,10)}}})],1)]),t._v(\" \"),n(\"v-snackbar\",{attrs:{color:t.colorSnackbar,\"multi-line\":\"\",right:\"\",timeout:t.timeout,top:\"\",vertical:\"\"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:\"snackbar\"}},[t._v(t._s(t.textSnackbar))])],1)],1)};xn._withStripped=!0;var yn={name:\"produit\",props:{beforeUpload:Function,onSuccess:Function},data:function(){return{excelData:{header:null,results:null},snackbar:!1,textSnackbar:\"\",timeout:5e3,colorSnackbar:\"\",dialogFournisseur:!1,idFournisseur:null,allFournisseurs:[],path:\"\",structure:[],libelle:[],produits:[],dialog:!1,details:!1,valid:!0,search:\"\",page:1,pageCount:0,itemsPerPage:12,produitTab:[{label:\"designation\",field:\"designation\"},{label:\"taille\",field:\"taille\"},{label:\"age\",field:\"age\"},{label:\"pointure\",field:\"pointure\"},{label:\"couleur\",field:\"couleur\"},{label:\"quantite\",field:\"quantite\"},{label:\"prixVente\",field:\"prixVente\"},{label:\"categorie\",field:\"categorie\"},{label:\"fournisseur\",field:\"fournisseur\"}],headers:[{text:\"ID\",align:\"start\",sortable:!1,value:\"ligne\"},{text:\"Désignation\",align:\"start\",sortable:!1,value:\"designation\"},{text:\"Catégorie\",align:\"start\",sortable:!1,value:\"libelle\"},{text:\"Taille\",align:\"start\",sortable:!1,value:\"taille\"},{text:\"Age\",align:\"start\",sortable:!1,value:\"age\"},{text:\"Pointure\",align:\"start\",sortable:!1,value:\"pointure\"},{text:\"couleur\",align:\"start\",sortable:!1,value:\"couleur\"},{text:\"quantite\",align:\"start\",sortable:!1,value:\"quantite\"},{text:\"Fournisseur\",align:\"start\",sortable:!1,value:\"structure\"},{text:\"Prix Vente\",align:\"start\",sortable:!1,value:\"prixVente\"},{text:\"Crée le\",value:\"createAt\",sortable:!1},{text:\"Modifié le\",value:\"updateAt\",sortable:!1},{text:\"Actions\",value:\"actions\",sortable:!1}],editedIndex:-1,editedItem:{id:0,libelle:\"\",designation:\"\",taille:\"\",age:\"\",pointure:\"\",couleur:\"\",structure:\"\",prixVente:0,stockInitial:0,stock:0,qteVendue:0,ligne:0,quantite:0},produitRules:[function(t){return!!t||\"Champ requise\"}],defaultItem:{id:0,libelle:\"\",designation:\"\",taille:\"\",age:\"\",pointure:\"\",couleur:\"\",structure:\"\",prixVente:0,stockInitial:0,stock:0,qteVendue:0,ligne:0,quantite:0}}},computed:{formTitle:function(){return-1===this.editedIndex?\"Ajout Produit\":\"Modifié Produit\"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.fetchproduits(),this.fetchfournisseurs(),this.fetchCategorie(),this.getFournisseurs()},methods:{fetchproduits:function(){var t=this;w.a.get(\"/api/produit\").then((function(e){t.produits=e.data}))},depotFournisseur:function(){var t=this;w.a.get(\"/api/access/fournisseurs/\".concat(this.idFournisseur)).then((function(e){t.colorSnackbar=\"green\",t.snackbar=!0,t.textSnackbar=\"Demande de dépot envoyée\",t.close()})).catch((function(e){t.colorSnackbar=\"red\",t.snackbar=!0,t.textSnackbar=\"Echec envoie\",t.close()}))},getFournisseurs:function(){var t=this;w.a.get(\"/api/fournisseurs\").then((function(e){t.allFournisseurs=e.data[\"hydra:member\"]}))},fetchfournisseurs:function(){var t=this,e=[];w.a.get(\"/api/fournisseur/\").then((function(n){t.fournisseurs=n.data,t.fournisseurs.forEach((function(t){return e.push(t.structure)})),t.structure=e}))},fetchCategorie:function(){var t=this,e=[];w.a.get(\"/api/showcategory\").then((function(n){t.categories=n.data,t.categories.forEach((function(t){return e.push(t.libelle)})),t.libelle=e}))},editItem:function(t){console.log(t.id),w.a.get(\"/modifierproduit/\"+t.id).then((function(t){console.log(t)})),this.editedIndex=this.produits.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){console.log(t);var e=this.produits.indexOf(t);confirm(\"Voulez-vous vraiment supprimer ?\")&&this.produits.splice(e,1),w.a.delete(\"/api/supprimmerCategory/\"+t.id).then((function(t){console.log(t)}))},close:function(){var t=this;this.$refs.form.resetValidation(),this.dialog=!1,this.dialogFournisseur=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;this.$refs.form.validate(),console.log(this.editedItem),this.editedIndex>-1?(w.a.post(\"/api/modifierproduit/\"+this.editedItem.id,{id:this.editedItem.id,designation:this.editedItem.designation,structure:this.editedItem.structure,libelle:this.editedItem.libelle,prixVente:this.editedItem.prixVente,taille:this.editedItem.taille,age:this.editedItem.age,pointure:this.editedItem.pointure,couleur:this.editedItem.couleur,quantite:this.editedItem.quantite}).then((function(e){console.log(e),t.fetchproduits()})),Object.assign(this.produits[this.editedIndex],this.editedItem)):(w.a.post(\"/api/newProduit\",{designation:this.editedItem.designation,structure:this.editedItem.structure,libelle:this.editedItem.libelle,prixVente:this.editedItem.prixVente,taille:this.editedItem.taille,age:this.editedItem.age,pointure:this.editedItem.pointure,couleur:this.editedItem.couleur,quantite:this.editedItem.quantite}).then((function(t){nn.a.success(t.data.message)})),this.produits.push(this.editedItem)),this.close(),this.fetchproduits(),this.fetchfournisseurs(),this.fetchCategorie(),this.$refs.form.reset()},insertion:function(){var t=this;w.a.post(\"/api/produit/mass\",{produit:this.excelData}).then((function(e){console.log(e);var n=e.data.message,i=e.data.status;201==i&&(Vue.$toast.success(n,{position:\"top-right\",duration:3e3}),t.fetchusers()),401==i&&Vue.$toast.error(n,{position:\"top-right\",duration:5e3})}))},generateData:function(t){var e=t.header,n=t.results;this.excelData.header=e,this.excelData.results=n,this.onSuccess&&this.onSuccess(this.excelData),this.insertion()},handleDrop:function(t){if(t.stopPropagation(),t.preventDefault(),!this.loading){var e=t.dataTransfer.files;if(1===e.length){var n=e[0];if(!this.isExcel(n))return this.$message.error(\"Only supports upload .xlsx, .xls, .csv suffix files\"),!1;this.upload(n),t.stopPropagation(),t.preventDefault()}else this.$message.error(\"Only support uploading one file!\")}},handleDragover:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect=\"copy\"},handleUpload:function(){this.$refs[\"excel-upload-input\"].click()},handleClick:function(t){var e=t.target.files[0];e&&this.upload(e)},upload:function(t){(this.$refs[\"excel-upload-input\"].value=null,this.beforeUpload)?this.beforeUpload(t)&&this.readerData(t):this.readerData(t)},readerData:function(t){var e=this;return this.loading=!0,new Promise((function(n,i){var r=new FileReader;r.onload=function(t){var i=t.target.result,r=vn.a.read(i,{type:\"array\"}),a=r.SheetNames[0],o=r.Sheets[a],s=e.getHeaderRow(o),l=vn.a.utils.sheet_to_json(o);e.generateData({header:s,results:l}),e.loading=!1,n()},r.readAsArrayBuffer(t)}))},getHeaderRow:function(t){var e,n=[],i=vn.a.utils.decode_range(t[\"!ref\"]),r=i.s.r;for(e=i.s.c;e<=i.e.c;++e){var a=t[vn.a.utils.encode_cell({c:e,r:r})],o=\"UNKNOWN \"+e;a&&a.t&&(o=vn.a.utils.format_cell(a)),n.push(o)}return n},isExcel:function(t){return/\\.(xlsx|xls|csv)$/.test(t.name)}}},On=Object(u.a)(yn,xn,[],!1,null,null,null);On.options.__file=\"vue/pages/produit/Produit.vue\";var kn=On.exports,En=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Dépots\")]),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{staticClass:\"col-auto\"},[n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Dépot de produits\")]),t._v(\" \"),t.entity?n(\"item-errors\",{attrs:{entity:t.entity}}):t._e()],1),t._v(\" \"),n(\"v-card-text\",[n(\"v-container\",[n(\"v-form\",{ref:\"form\",on:{submit:function(e){e.preventDefault(),t.update?t.depotUpdate():t.depotCreate()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Produit\",readonly:\"\"},on:{click:function(e){t.dialogProd=!0}},model:{value:t.depot.produit.designation,callback:function(e){t.$set(t.depot.produit,\"designation\",e)},expression:\"depot.produit.designation\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Stock initial *\",required:\"\",readonly:\"\"},model:{value:t.depot.stockInitial,callback:function(e){t.$set(t.depot,\"stockInitial\",t._n(e))},expression:\"depot.stockInitial\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Quantité déposée\"},model:{value:t.depot.quantiteDeposee,callback:function(e){t.$set(t.depot,\"quantiteDeposee\",t._n(e))},expression:\"depot.quantiteDeposee\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Stock total après dépot\",required:\"\",readonly:\"\"},model:{value:t.depot.totalStockApresDepot,callback:function(e){t.$set(t.depot,\"totalStockApresDepot\",t._n(e))},expression:\"depot.totalStockApresDepot\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Quantité vendue *\",type:\"Quantité vendue\",readonly:\"\"},model:{value:t.depot.quantiteVendue,callback:function(e){t.$set(t.depot,\"quantiteVendue\",t._n(e))},expression:\"depot.quantiteVendue\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Stock Final *\",type:\"Quantité restante\",readonly:\"\"},model:{value:t.depot.stockFinal,callback:function(e){t.$set(t.depot,\"stockFinal\",t._n(e))},expression:\"depot.stockFinal\"}})],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.reset()}}},[t._v(\"Fermer\")]),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",loading:t.isLoading,\"\":t.isLoading||!t.valid,color:\"success\"},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}])},[t._v(\"\\n                        Valider\\n                        \")])],1)],1)],1)],1),t._v(\" \"),n(\"small\",{staticStyle:{color:\"red\"}},[t._v(\"* Champs requis\")])],1)],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card\",{staticClass:\"mx-auto\"},[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.update=!1,t.dialog=!0}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-account-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter un depot\")])],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-data-table\",{attrs:{headers:t.headers,items:t.depots,search:t.search},scopedSlots:t._u([{key:\"item.createdAt\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(t.crmDateFormat(i.createdAt)))])])]}},{key:\"item.actions\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"primary\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.editDepot(i)}}},[n(\"v-icon\",[t._v(\"mdi-pencil\")])],1)],1),t._v(\"   \\n              \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"error\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.depotRemove(i)}}},[n(\"v-icon\",[t._v(\"mdi-delete\")])],1)],1)])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"}},[t._v(\"Reset\")])]},proxy:!0}])})],1)],1)],1),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{fullscreen:\"\",\"hide-overlay\":\"\",transition:\"dialog-bottom-transition\"},model:{value:t.dialogProd,callback:function(e){t.dialogProd=e},expression:\"dialogProd\"}},[n(\"v-card\",[n(\"v-toolbar\",{attrs:{dark:\"\",color:\"#4E342E\"}},[n(\"v-btn\",{attrs:{icon:\"\",dark:\"\"},on:{click:function(e){t.dialogProd=!1}}},[n(\"v-icon\",[t._v(\"mdi-close\")])],1),t._v(\" \"),n(\"v-toolbar-title\",[t._v(\"Produits\")]),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-toolbar-items\",[n(\"v-btn\",{attrs:{dark:\"\",text:\"\"},on:{click:function(e){t.dialogProd=!1}}},[t._v(\"Save\")])],1)],1),t._v(\" \"),n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"v-row\",{attrs:{dense:\"\"}},t._l(t.produits,(function(e){return n(\"v-col\",{key:e.id,attrs:{cols:\"3\"}},[n(\"v-card\",{staticClass:\"mx-auto\",attrs:{height:\"240\"}},[n(\"v-img\",{staticClass:\"white--text align-end\",attrs:{height:\"120px\",src:\"https://cdn.vuetifyjs.com/images/cards/docks.jpg\"}},[n(\"v-card-title\",[t._v(t._s(e.designation))]),t._v(\" \"),n(\"v-card-subtitle\",[n(\"span\",{staticStyle:{color:\"white\"}},[t._v(\"Fournisseur: \"+t._s(e.fournisseur.structure))])])],1),t._v(\" \"),n(\"v-card-text\",{staticClass:\"text--primary\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"div\",[t._v(\"\\n                      Prix\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.prixVente)+\"\\n                    \")]),t._v(\" \"),n(\"div\",[t._v(\"\\n                      Taille\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.taille)+\"\\n                    \")]),t._v(\" \"),n(\"div\",[t._v(\"\\n                      Age\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.age)+\"\\n                    \")]),t._v(\" \"),n(\"div\",[t._v(\"\\n                      Pointure\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.pointure)+\"\\n                    \")])])],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-btn\",{attrs:{color:\"orange\",text:\"\"},on:{click:function(n){return t.ajoutProduit(e)}}},[t._v(\"Ajouter\")])],1)],1)],1)})),1)],1)],1)],1)],1)],1)};En._withStripped=!0;var Pn=function(){var t=this.$createElement,e=this._self._c||t;return this.error?e(\"v-alert\",{attrs:{type:\"error\"}},[this._v(\"\\n  \"+this._s(this.error)+\"\\n\")]):this._e()};Pn._withStripped=!0;var jn={name:\"ItemErrors\",props:{entity:{type:String,default:null}},computed:{error:function(){return this.$store.getters[\"\".concat(this.entity,\"/error\")]}}},wn=Object(u.a)(jn,Pn,[],!1,null,null,null);wn.options.__file=\"vue/components/layout/errors/ItemErrors.vue\";var Sn=wn.exports;function Vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(n),!0).forEach((function(e){Cn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var In={components:{ItemErrors:Sn},data:function(){return{dialogProd:!1,update:!1,items:[],entity:\"depot\",editedIndex:-1,pencil:\"mdi-plus\",color:\"red\",search:\"\",small:\"small\",show:!1,dialog:!1,valid:!0,headers:[{text:\"Date de dépôt\",value:\"createdAt\"},{text:\"Désignation\",value:\"produit.designation\"},{text:\"Fournisseur\",value:\"produit.fournisseur.structure\"},{text:\"Prix de Vente\",value:\"produit.prixVente\"},{text:\"Stock Initial\",value:\"stockInitial\"},{text:\"Qunatité Déposée\",value:\"quantiteDeposee\"},{text:\"Ttl Stk après Dépot\",value:\"totalStockApresDepot\"},{text:\"Quantité Venduee\",value:\"quantiteVendue\"},{text:\"Stock Final\",value:\"stockFinal\"},{text:\"Actions\",value:\"actions\"}],rules:{emailRules:[function(t){return!!t||\"E-mail est requis\"},function(t){return/.+@.+\\..+/.test(t)||\"E-mail non valid\"}],nameRules:[function(t){return!!t||\"Le nom est requis\"}],passwordRules:[function(t){return!!t||\"Le mot de passe est requis\"},function(t){return t&&t.length>=6||\"Le mot de passe doit être suppérieur ou égal à 6 caractéres\"}]}}},computed:Tn({isLoading:function(){if(this.$store.state.general.isLoading>0)return!0}},Object(g.c)({depots:\"depot/depots\",depot:\"depot/depot\",produits:\"produit/produits\"})),created:function(){this.getDepots(),this.getProduits()},methods:Tn(Tn({},Object(g.b)({getDepots:\"depot/getDepots\",createDepot:\"depot/createDepot\",updateDepot:\"depot/updateDepot\",removeDepot:\"depot/removeDepot\",getProduits:\"produit/getProduits\"})),{},{ajoutProduit:function(t){this.$store.commit(\"depot/setProduit\",t),this.dialogProd=!1},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.resetValidation(),this.dialog=!1,this.update=!1,this.$store.commit(\"depot/DEPOT_RESET_ITEM\"),this.getDepots(),this.getProduits()},editDepot:function(t){this.update=!0,this.$store.commit(\"depot/DEPOT_UPDATE_ITEM\",t),this.dialog=!0},depotCreate:function(){var t=this;this.createDepot().then((function(e){t.reset()}))},depotUpdate:function(){var t=this;this.updateDepot().then((function(e){t.reset()}))},depotRemove:function(t){var e=this;window.confirm(\"Voulez-vous vraiment supprimer ce dépot\")&&this.removeDepot(t.id).then((function(t){e.reset()}))}})},Rn=(n(\"6Ezj\"),Object(u.a)(In,En,[],!1,null,null,null));Rn.options.__file=\"vue/pages/depot/Depot.vue\";var Dn=Rn.exports,$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Ventes\")]),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"CardsInfos\",{attrs:{icon:\"attach_money\",libelle:\"Total journée\",number:t.totalJournee,color:\"blue\",size:70}}),t._v(\" \"),n(\"CardsInfos\",{attrs:{icon:\"mdi-account-check\",libelle:\"Actifs\",number:2,color:\"green\"}}),t._v(\" \"),n(\"CardsInfos\",{attrs:{icon:\"mdi-account-lock\",libelle:\"Inactifs\",number:2,color:\"red\"}})],1),t._v(\" \"),n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"input\",{ref:\"excel-upload-input\",staticClass:\"excel-upload-input\",attrs:{type:\"file\",accept:\".xlsx, .xls\"},on:{change:t.handleClick}})]),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-btn\",{staticStyle:{color:\"#555\"}},[n(\"vue-excel-xlsx\",{attrs:{data:t.venteTab,columns:t.venteTab,filename:\"vente\",sheetname:\"sheetname\"}},[t._v(\"\\n            Telecharger format\\n            \"),n(\"v-icon\",{staticStyle:{color:\"#555\"}},[t._v(\"mdi-download\")])],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-tabs\",{attrs:{\"fixed-tabs\":\"\",\"background-color\":\"indigo\",dark:\"\"},model:{value:t.tab,callback:function(e){t.tab=e},expression:\"tab\"}},[n(\"v-tab\",[t._v(\"Tout les ventes\")]),t._v(\" \"),n(\"v-tab\",[t._v(\"Tout les Ventes Clients\")])],1),t._v(\" \"),n(\"v-tabs-items\",{model:{value:t.tab,callback:function(e){t.tab=e},expression:\"tab\"}},[n(\"v-tab-item\",[n(\"v-card\",{attrs:{color:\"basil\",flat:\"\"}},[n(\"allVente\")],1)],1),t._v(\" \"),n(\"v-tab-item\",[n(\"v-card\",{attrs:{color:\"basil\",flat:\"\"}},[n(\"vente\")],1)],1)],1)],1)};$n._withStripped=!0;var An=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{staticClass:\"col-auto\"},[n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Vente de produits\")]),t._v(\" \"),t.entity?n(\"item-errors\",{attrs:{entity:t.entity}}):t._e()],1),t._v(\" \"),n(\"v-card-text\",[n(\"v-container\",[n(\"v-form\",{ref:\"form\",on:{submit:function(e){e.preventDefault(),t.update?t.venteUpdate():t.venteCreate()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-autocomplete\",{attrs:{label:\"Produit\",items:t.produits,\"item-value\":\"id\",\"item-text\":\"designation\",multiple:\"\"},model:{value:t.vente.produit,callback:function(e){t.$set(t.vente,\"produit\",e)},expression:\"vente.produit\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-autocomplete\",{attrs:{label:\"Client\",items:t.clients,\"item-value\":\"id\",\"item-text\":\"nom\"},model:{value:t.vente.client.id,callback:function(e){t.$set(t.vente.client,\"id\",e)},expression:\"vente.client.id\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Quantité vendue *\",required:\"\"},model:{value:t.vente.quantiteVendue,callback:function(e){t.$set(t.vente,\"quantiteVendue\",t._n(e))},expression:\"vente.quantiteVendue\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Prix de vente total\"},model:{value:t.vente.prixVenteTotal,callback:function(e){t.$set(t.vente,\"prixVenteTotal\",e)},expression:\"vente.prixVenteTotal\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Prix net à payer\",required:\"\"},model:{value:t.vente.prixNetPayer,callback:function(e){t.$set(t.vente,\"prixNetPayer\",e)},expression:\"vente.prixNetPayer\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Date de vente\",type:\"date\"},model:{value:t.vente.dateVente,callback:function(e){t.$set(t.vente,\"dateVente\",e)},expression:\"vente.dateVente\"}})],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){t.dialogClient=!t.dialogClient}}},[t._v(\"Ajouter client\")]),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.reset()}}},[t._v(\"Fermer\")]),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",loading:t.isLoading,disabled:t.isLoading||!t.valid,color:\"success\"},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}])},[t._v(\"\\n                        Valider\\n                        \")])],1)],1)],1)],1),t._v(\" \"),n(\"small\",{staticStyle:{color:\"red\"}},[t._v(\"* Champs requis\")])],1)],1)],1),t._v(\" \"),[n(\"div\",[1==t.dialogClient?n(\"Client\"):t._e()],1)]],2)],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card\",{staticClass:\"mx-auto\"},[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{type:\"date\",label:\"Date de début\"},model:{value:t.from,callback:function(e){t.from=e},expression:\"from\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{type:\"date\",label:\"Date de fin\"},on:{input:function(e){return t.filterByDate()}},model:{value:t.to,callback:function(e){t.to=e},expression:\"to\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.update=!1,t.goto(\"addVente\")}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-account-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter une vente\")])],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-data-table\",{attrs:{headers:t.headers,items:t.ventes,search:t.search},scopedSlots:t._u([{key:\"item.dateVente\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(i.dateVente))])])]}},{key:\"item.actions\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.gotoEdit(i)}}},[n(\"v-icon\",[t._v(\"mdi-eye\")])],1)],1),t._v(\"   \\n              \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"primary\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.editVente(i)}}},[n(\"v-icon\",[t._v(\"mdi-pencil\")])],1)],1),t._v(\"   \\n              \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"error\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.venteRemove(i)}}},[n(\"v-icon\",[t._v(\"mdi-delete\")])],1)],1)])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"}},[t._v(\"Reset\")])]},proxy:!0}])})],1)],1)],1)],1)};An._withStripped=!0;var qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{staticClass:\"col-auto\"},[n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialogClient,callback:function(e){t.dialogClient=e},expression:\"dialogClient\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Ajouter un client\")]),t._v(\" \"),t.entity?n(\"item-errors\",{attrs:{entity:t.entity}}):t._e()],1),t._v(\" \"),n(\"v-card-text\",[n(\"v-container\",[n(\"v-form\",{ref:\"form\",on:{submit:function(e){return e.preventDefault(),t.clientCreate()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\"}},[n(\"v-text-field\",{attrs:{label:\"Nom Complet*\",rules:t.rules.nameRules,required:\"\"},model:{value:t.client.nomComplet,callback:function(e){t.$set(t.client,\"nomComplet\",e)},expression:\"client.nomComplet\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\"}},[n(\"v-text-field\",{attrs:{label:\"Téléphone*\",required:\"\"},model:{value:t.client.telephone,callback:function(e){t.$set(t.client,\"telephone\",e)},expression:\"client.telephone\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\"}},[n(\"v-text-field\",{attrs:{label:\"Adresse*\",required:\"\"},model:{value:t.client.adresse,callback:function(e){t.$set(t.client,\"adresse\",e)},expression:\"client.adresse\"}})],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){t.reset(),t.dialogClient=!1}}},[t._v(\"Fermer\")]),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",loading:t.isLoading,disabled:t.isLoading||!t.valid,color:\"success\"},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}])},[t._v(\"\\n                        Valider\\n                        \")])],1)],1)],1)],1),t._v(\" \"),n(\"small\",{staticStyle:{color:\"red\"}},[t._v(\"* Champs requis\")])],1)],1)],1)],1)],1)],1)],1)};function Un(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Un(Object(n),!0).forEach((function(e){Fn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}qn._withStripped=!0;var Ln={name:\"vente\",components:{ItemErrors:Sn},data:function(){return{dialogClient:!0,entity:\"vente\",small:\"small\",valid:!0,rules:{nameRules:[function(t){return!!t||\"Le nom est requis\"}]}}},created:function(){this.getClients()},computed:Nn({isLoading:function(){if(this.$store.state.general.isLoading>0)return!0}},Object(g.c)({clients:\"client/clients\",client:\"client/client\"})),methods:Nn(Nn({},Object(g.b)({createClient:\"client/createClient\",getClients:\"client/getClients\"})),{},{validate:function(){this.$refs.form.validate()},reset:function(){this.dialogClient=!1,this.$refs.form.reset(),this.$refs.form.resetValidation(),this.update=!1,this.getClients()},clientCreate:function(){var t=this;this.createClient().then((function(e){t.reset()}))}})},Mn=Object(u.a)(Ln,qn,[],!1,null,null,null);Mn.options.__file=\"vue/pages/vente/Client.vue\";var zn=Mn.exports;function Gn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gn(Object(n),!0).forEach((function(e){Bn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qn={name:\"vente\",components:{ItemErrors:Sn,Client:zn},data:function(){return{from:\"\",to:\"\",dialogClient:!1,update:!1,items:[],entity:\"vente\",produits:[],editedIndex:-1,pencil:\"mdi-plus\",color:\"red\",search:\"\",small:\"small\",show:!1,dialog:!1,valid:!0,headers:[{text:\"Client\",value:\"client.nomComplet\"},{text:\"Téléphone\",value:\"client.telephone\"},{text:\"Date de la vente\",value:\"dateVente\"},{text:\"Montant de la vente\",value:\"totalVente\"},{text:\"Montant versé\",value:\"montantVerse\"},{text:\"Montant rendu\",value:\"montantRendu\"},{text:\"Type de paiement\",value:\"typePaiement\"},{text:\"Actions\",value:\"actions\"}],rules:{emailRules:[function(t){return!!t||\"E-mail est requis\"},function(t){return/.+@.+\\..+/.test(t)||\"E-mail non valid\"}],nameRules:[function(t){return!!t||\"Le nom est requis\"}],passwordRules:[function(t){return!!t||\"Le mot de passe est requis\"},function(t){return t&&t.length>=6||\"Le mot de passe doit être suppérieur ou égal à 6 caractéres\"}]}}},computed:Jn({isLoading:function(){if(this.$store.state.general.isLoading>0)return!0}},Object(g.c)({ventes:\"vente/ventes\",vente:\"vente/vente\",clients:\"client/clients\"})),created:function(){this.getVentes(),this.fetchproduits(),this.getClients()},methods:Jn(Jn({},Object(g.b)({getVentes:\"vente/getVentes\",createVente:\"vente/createVente\",updateVente:\"vente/updateVente\",removeVente:\"vente/removeVente\",getClients:\"client/getClients\"})),{},{filterByDate:function(){var t=this;this.getVentes().then((function(e){console.log(e);var n=[];e.filter((function(e){e.dateVente>=t.from&&e.dateVente<=t.to&&n.push(e)})),t.$store.commit(\"vente/VENTE_SET_ITEMS\",n)}))},fetchproduits:function(){var t=this;Qe.get(\"/api/depots\").then((function(e){var n=[];e.data[\"hydra:member\"].forEach((function(t){n.push(t.produit)})),t.produits=n}))},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset(),this.$refs.form.resetValidation(),this.dialog=!1,this.update=!1,this.$store.commit(\"vente/VENTE_RESET_ITEM\"),this.getVentes()},editVente:function(t){this.update=!0,this.$store.commit(\"vente/VENTE_UPDATE_ITEM\",t),this.dialog=!0},venteCreate:function(){var t=this;this.createVente().then((function(e){t.reset()}))},venteUpdate:function(){var t=this;this.updateVente().then((function(e){t.reset()}))},venteRemove:function(t){var e=this;window.confirm(\"Voulez-vous vraiment supprimer cette vente\")&&this.removeVente(t.id).then((function(t){e.reset()}))},goto:function(t){this.$router.push({name:t})},gotoEdit:function(t){this.$router.push({name:\"produitsVente\",params:{item:t}})}})},Hn=(n(\"AY+Q\"),Object(u.a)(Qn,An,[],!1,null,null,null));Hn.options.__file=\"vue/pages/vente/Vente.vue\";var Yn=Hn.exports,Kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{staticClass:\"col-auto\"},[n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Vente de produits test\")]),t._v(\" \"),t.entity?n(\"item-errors\",{attrs:{entity:t.entity}}):t._e()],1),t._v(\" \"),n(\"v-card-text\",[n(\"v-container\",[n(\"v-form\",{ref:\"form\",on:{submit:function(e){e.preventDefault(),t.update?t.venteUpdate():t.venteCreate()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-autocomplete\",{attrs:{label:\"Produit\",items:t.produits,\"item-value\":\"id\",\"item-text\":\"designation\",multiple:\"\"},model:{value:t.vente.produit,callback:function(e){t.$set(t.vente,\"produit\",e)},expression:\"vente.produit\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-autocomplete\",{attrs:{label:\"Client\",items:t.clients,\"item-value\":\"id\",\"item-text\":\"nom\"},model:{value:t.vente.client.id,callback:function(e){t.$set(t.vente.client,\"id\",e)},expression:\"vente.client.id\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Quantité vendue *\",required:\"\"},model:{value:t.vente.quantiteVendue,callback:function(e){t.$set(t.vente,\"quantiteVendue\",t._n(e))},expression:\"vente.quantiteVendue\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Prix de vente total\"},model:{value:t.vente.prixVenteTotal,callback:function(e){t.$set(t.vente,\"prixVenteTotal\",e)},expression:\"vente.prixVenteTotal\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Prix net à payer\",required:\"\"},model:{value:t.vente.prixNetPayer,callback:function(e){t.$set(t.vente,\"prixNetPayer\",e)},expression:\"vente.prixNetPayer\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Date de vente\",type:\"date\"},model:{value:t.vente.dateVente,callback:function(e){t.$set(t.vente,\"dateVente\",e)},expression:\"vente.dateVente\"}})],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){t.dialogClient=!t.dialogClient}}},[t._v(\"Ajouter client\")]),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.reset()}}},[t._v(\"Fermer\")]),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",loading:t.isLoading,disabled:t.isLoading||!t.valid,color:\"success\"},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}])},[t._v(\"\\n                        Valider\\n                        \")])],1)],1)],1)],1),t._v(\" \"),n(\"small\",{staticStyle:{color:\"red\"}},[t._v(\"* Champs requis\")])],1)],1)],1),t._v(\" \"),[n(\"div\",[1==t.dialogClient?n(\"Client\"):t._e()],1)]],2)],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card\",{staticClass:\"mx-auto\"},[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-form\",{ref:\"form\"},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-col\",{attrs:{cols:\"6\",sm:\"3\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.update=!1,t.goto(\"addVente\")}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-account-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter une vente\")])],1)],1),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"6\",sm:\"3\",md:\"2\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\",md:\"2\"}},[n(\"v-text-field\",{attrs:{type:\"date\",label:\"Date de début\"},model:{value:t.from,callback:function(e){t.from=e},expression:\"from\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\",md:\"2\"}},[n(\"v-text-field\",{attrs:{type:\"date\",label:\"Date de fin\"},on:{input:function(e){return t.filterByDate()}},model:{value:t.to,callback:function(e){t.to=e},expression:\"to\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\",md:\"2\"}},[n(\"v-autocomplete\",{attrs:{items:t.fournisseurs,label:\"Fournisseur\",\"item-value\":\"id\",\"item-text\":\"structure\"},on:{input:function(e){return t.filterByFour()}},model:{value:t.fournisseur,callback:function(e){t.fournisseur=e},expression:\"fournisseur\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\",md:\"2\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{tile:\"\",dark:\"\",small:\"\"},on:{click:function(e){return t.replay()}}},[n(\"v-icon\",{attrs:{color:\"#555\",large:\"\"}},[t._v(\"replay\")])],1)],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-data-table\",{attrs:{headers:t.headers,items:t.allVentesFours,search:t.search},scopedSlots:t._u([{key:\"item.dateVente\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(i.dateVente))])])]}},{key:\"item.actions\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.gotoEdit(i)}}},[n(\"v-icon\",[t._v(\"mdi-eye\")])],1)],1),t._v(\"   \\n              \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"primary\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.editVente(i)}}},[n(\"v-icon\",[t._v(\"mdi-pencil\")])],1)],1),t._v(\"   \\n              \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"error\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.venteRemove(i)}}},[n(\"v-icon\",[t._v(\"mdi-delete\")])],1)],1)])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"}},[t._v(\"Reset\")])]},proxy:!0}])}),t._v(\" \"),n(\"div\",[t._v(\"Total Journée: \"+t._s(t.ttlJour))])],1)],1)],1),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{staticClass:\"col-auto\"},[n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Produits de la vente\")])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-container\",[n(\"v-card-actions\",[n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){t.dialogClient=!t.dialogClient}}},[t._v(\"Ajouter client\")]),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.reset()}}},[t._v(\"Fermer\")])],1)],1)],1)],1)],1),t._v(\" \"),[n(\"div\",[1==t.dialogClient?n(\"Client\"):t._e()],1)]],2)],1)],1)],1)};Kn._withStripped=!0;n(\"4l63\");var Xn=n(\"F4kd\");function Wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wn(Object(n),!0).forEach((function(e){ti(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ei={name:\"allVente\",components:{ItemErrors:Sn,Client:zn},data:function(){return{fournisseur:null,ttlJour:null,from:\"\",to:\"\",dialogClient:!1,update:!1,items:[],entity:\"vente\",produits:[],values:[],editedIndex:-1,pencil:\"mdi-plus\",color:\"red\",search:\"\",small:\"small\",show:!1,dialog:!1,valid:!0,headers:[{text:\"Date de la vente\",value:\"dateVente\"},{text:\"Fournisseur\",value:\"produit.fournisseur.structure\"},{text:\"Produit\",value:\"produit.designation\"},{text:\"Quantité\",value:\"quantiteVendue\"},{text:\"Montant\",value:\"produit.prixVente\"},{text:\"Total\",value:\"prixVenteTotal\"},{text:\"Total Cumule\",value:\"totalCumule\"}],rules:{emailRules:[function(t){return!!t||\"E-mail est requis\"},function(t){return/.+@.+\\..+/.test(t)||\"E-mail non valid\"}],nameRules:[function(t){return!!t||\"Le nom est requis\"}],passwordRules:[function(t){return!!t||\"Le mot de passe est requis\"},function(t){return t&&t.length>=6||\"Le mot de passe doit être suppérieur ou égal à 6 caractéres\"}]}}},computed:Zn({isLoading:function(){if(this.$store.state.general.isLoading>0)return!0}},Object(g.c)({ventes:\"vente/ventes\",vente:\"vente/vente\",clients:\"client/clients\",allVentesFours:\"vente/allVentesFours\",fournisseurs:\"fournisseur/fournisseurs\"})),created:function(){this.getVentes(),this.fetchproduits(),this.getClients(),this.infosVenteFourn(),this.getVentesFournisseur()},methods:Zn(Zn({},Object(g.b)({getVentes:\"vente/getVentes\",createVente:\"vente/createVente\",updateVente:\"vente/updateVente\",removeVente:\"vente/removeVente\",getClients:\"client/getClients\",getVentesFournisseur:\"fournisseur/getVentesFournisseur\"})),{},{filterByDate:function(){var t=this,e=[],n=0;this.values.filter((function(i){i.dateVente>=t.from&&i.dateVente<=t.to&&(e.push(i),t.ttlJour=null),i.dateVente==t.from&&i.dateVente==t.to&&(n+=parseInt(i.prixVenteTotal),t.ttlJour=n)})),this.$store.commit(\"vente/allVentesFours\",e)},infosVenteFourn:function(){var t=this;this.getVentes().then((function(e){var n=0;e.filter((function(e){e.venteProduits.forEach((function(e){t.values.push(e),e.dateVente===Xn.a.format(new Date,\"YYYY-MM-DD\")&&(n+=parseInt(e.prixVenteTotal))}))})),t.$store.commit(\"vente/totalJournee\",n),t.$store.commit(\"vente/allVentesFours\",t.values)}))},filterByFour:function(){var t=this,e=[],n=0;this.from&&this.to?this.values.filter((function(i){i.produit.fournisseur.id==t.fournisseur&&i.dateVente>=t.from&&i.dateVente<=t.to&&(n+=parseInt(i.prixVenteTotal),t.ttlJour=null,i.totalCumule=n,e.push(i))})):this.values.filter((function(i){i.produit.fournisseur.id==t.fournisseur&&(n+=parseInt(i.prixVenteTotal),t.ttlJour=null,i.totalCumule=n,e.push(i))})),this.$store.commit(\"vente/allVentesFours\",e)},fetchproduits:function(){var t=this;Qe.get(\"/api/depots\").then((function(e){var n=[];e.data[\"hydra:member\"].forEach((function(t){n.push(t.produit)})),t.produits=n}))},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset(),this.$refs.form.resetValidation(),this.dialog=!1,this.update=!1,this.$store.commit(\"vente/VENTE_RESET_ITEM\"),this.getVentes()},replay:function(){this.values=[],this.getVentes(),this.infosVenteFourn(),this.$refs.form.reset(),this.$refs.form.resetValidation()},editVente:function(t){this.update=!0,this.$store.commit(\"vente/VENTE_UPDATE_ITEM\",t),this.dialog=!0},venteCreate:function(){var t=this;this.createVente().then((function(e){t.reset()}))},venteUpdate:function(){var t=this;this.updateVente().then((function(e){t.reset()}))},venteRemove:function(t){var e=this;window.confirm(\"Voulez-vous vraiment supprimer cette vente\")&&this.removeVente(t.id).then((function(t){e.reset()}))},goto:function(t){this.$router.push({name:t})},gotoEdit:function(t){this.$router.push({name:\"produitsVente\",params:{item:t}})}})},ni=(n(\"X28C\"),Object(u.a)(ei,Kn,[],!1,null,null,null));ni.options.__file=\"vue/pages/vente/AllVente.vue\";var ii=ni.exports,ri=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"v-col\",{attrs:{cols:\"auto\"}},[n(\"v-card\",{staticClass:\"mx-auto brunfonce\",attrs:{elevation:3,height:\"130\",width:\"250\"}},[n(\"v-sheet\",{staticClass:\"v-sheet--offset mx-auto text-left\",attrs:{color:\"#EFEBE9\",elevation:\"12\",\"max-width\":\"calc(100% - 32px)\"}},[n(\"v-icon\",{attrs:{color:t.color,size:t.size}},[t._v(t._s(t.icon))]),t._v(\" \"),n(\"span\",{staticClass:\"headline font-weight-bold\"},[t._v(t._s(t.libelle))])],1),t._v(\" \"),n(\"v-card-text\",{staticClass:\"headline font-weight-bold text-end\",attrs:{justify:\"end\",right:\"\"}},[t._v(t._s(t.number))])],1)],1)],1)};ri._withStripped=!0;n(\"qePV\");var ai={name:\"CardsInfos\",props:{libelle:{type:String,default:null},number:{type:Number,default:null},icon:{type:String,default:\"add\"},color:{type:String,default:\"blue\"},size:{type:Number,default:80}}},oi=(n(\"hRuB\"),Object(u.a)(ai,ri,[],!1,null,\"81716d76\",null));oi.options.__file=\"vue/components/layout/CardsInfos.vue\";var si=oi.exports;function li(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ci(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ui={name:\"detailVente\",components:{allVente:ii,vente:Yn,CardsInfos:si},props:{beforeUpload:Function,onSuccess:Function},data:function(){return{excelData:{header:null,results:null},venteTab:[{label:\"client\",field:\"client\"},{label:\"dateVente\",field:\"dateVente\"},{label:\"produit\",field:\"produit\"},{label:\"quantite\",field:\"quantite\"},{label:\"typePaiement\",field:\"typePaiement\"},{label:\"prixVente\",field:\"prixVente\"},{label:\"montantVerse\",field:\"montantVerse\"},{label:\"montantRendu\",field:\"montantRendu\"}],tab:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?li(Object(n),!0).forEach((function(e){ci(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(g.c)({totalJournee:\"vente/totalJournee\"})),methods:{insertion:function(){var t=this;w.a.post(\"/api/vente/mass\",{vente:this.excelData}).then((function(e){console.log(e);var n=e.data.message,i=e.data.status;201==i&&(Vue.$toast.success(n,{position:\"top-right\",duration:3e3}),t.fetchusers()),401==i&&Vue.$toast.error(n,{position:\"top-right\",duration:5e3})}))},generateData:function(t){var e=t.header,n=t.results;this.excelData.header=e,this.excelData.results=n,this.onSuccess&&this.onSuccess(this.excelData),this.insertion()},handleDrop:function(t){if(t.stopPropagation(),t.preventDefault(),!this.loading){var e=t.dataTransfer.files;if(1===e.length){var n=e[0];if(!this.isExcel(n))return this.$message.error(\"Only supports upload .xlsx, .xls, .csv suffix files\"),!1;this.upload(n),t.stopPropagation(),t.preventDefault()}else this.$message.error(\"Only support uploading one file!\")}},handleDragover:function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect=\"copy\"},handleUpload:function(){this.$refs[\"excel-upload-input\"].click()},handleClick:function(t){var e=t.target.files[0];e&&this.upload(e)},upload:function(t){(this.$refs[\"excel-upload-input\"].value=null,this.beforeUpload)?this.beforeUpload(t)&&this.readerData(t):this.readerData(t)},readerData:function(t){var e=this;return this.loading=!0,new Promise((function(n,i){var r=new FileReader;r.onload=function(t){var i=t.target.result,r=vn.a.read(i,{type:\"array\"}),a=r.SheetNames[0],o=r.Sheets[a],s=e.getHeaderRow(o),l=vn.a.utils.sheet_to_json(o);e.generateData({header:s,results:l}),e.loading=!1,n()},r.readAsArrayBuffer(t)}))},getHeaderRow:function(t){var e,n=[],i=vn.a.utils.decode_range(t[\"!ref\"]),r=i.s.r;for(e=i.s.c;e<=i.e.c;++e){var a=t[vn.a.utils.encode_cell({c:e,r:r})],o=\"UNKNOWN \"+e;a&&a.t&&(o=vn.a.utils.format_cell(a)),n.push(o)}return n},isExcel:function(t){return/\\.(xlsx|xls|csv)$/.test(t.name)}}},di=Object(u.a)(ui,$n,[],!1,null,null,null);di.options.__file=\"vue/pages/vente/DetailVente.vue\";var vi=di.exports,mi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Opération de Caisse\")]),t._v(\" \"),n(\"v-form\",{ref:\"form\",on:{submit:function(e){return e.preventDefault(),t.createVente()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\",center:\"\"}},[n(\"v-autocomplete\",{attrs:{label:\"Client\",items:t.clients,\"item-value\":\"id\",\"item-text\":\"telephone\",rules:t.rules.champRequis},on:{input:function(e){return t.clientName(t.clients,t.vente.client)}},model:{value:t.vente.client,callback:function(e){t.$set(t.vente,\"client\",e)},expression:\"vente.client\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Nom Complet\",rules:t.rules.champRequis,readonly:\"\",required:\"\"},model:{value:t.vente.nomComplet,callback:function(e){t.$set(t.vente,\"nomComplet\",e)},expression:\"vente.nomComplet\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Date de vente\",type:\"date\",rules:t.rules.champRequis,required:\"\"},model:{value:t.vente.dateVente,callback:function(e){t.$set(t.vente,\"dateVente\",e)},expression:\"vente.dateVente\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.dialogClient=!t.dialogClient}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-account-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter un client\")])],1)],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"InputDynamic\",{scopedSlots:t._u([{key:\"default\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Produit\",rules:t.rules.champRequis},on:{click:function(e){t.dialogProd=!0}},model:{value:i.produit.designation,callback:function(e){t.$set(i.produit,\"designation\",e)},expression:\"item.produit.designation\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Prix vente \",rules:t.rules.champRequis,type:\"number\"},model:{value:i.produit.prixVente,callback:function(e){t.$set(i.produit,\"prixVente\",e)},expression:\"item.produit.prixVente\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Quantité vendue\",type:\"number\",rules:t.rules.champRequis},on:{keyup:function(e){return t.prixVttl(i)}},model:{value:i.quantiteVendue,callback:function(e){t.$set(i,\"quantiteVendue\",e)},expression:\"item.quantiteVendue\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Prix vente total\",type:\"number\",rules:t.rules.champRequis},model:{value:i.prixVenteTotal,callback:function(e){t.$set(i,\"prixVenteTotal\",e)},expression:\"item.prixVenteTotal\"}})],1)],1)]}}]),model:{value:t.items,callback:function(e){t.items=e},expression:\"items\"}})],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{staticClass:\"py-0 mx-auto\",attrs:{cols:\"auto\"}},[n(\"v-btn\",{attrs:{text:\"\"},on:{click:t.add}},[n(\"v-icon\",[t._v(\"mdi-plus\")]),t._v(\"Ajouter Produit\\n          \")],1)],1)],1),t._v(\" \"),t.items[0]?n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"4\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Total vente\",type:\"number\",rules:t.rules.champRequis},model:{value:t.vente.totalVente,callback:function(e){t.$set(t.vente,\"totalVente\",e)},expression:\"vente.totalVente\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"4\",sm:\"2\"}},[n(\"v-select\",{attrs:{items:t.typePaiement,\"item-value\":\"type\",\"item-text\":\"name\",\"option-store\":\"name\",label:\"Type de paiement\",type:\"number\",rules:t.rules.champRequis},model:{value:t.vente.typePaiement,callback:function(e){t.$set(t.vente,\"typePaiement\",e)},expression:\"vente.typePaiement\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"4\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Montant versé\",type:\"number\",rules:t.rules.champRequis},model:{value:t.vente.montantVerse,callback:function(e){t.$set(t.vente,\"montantVerse\",e)},expression:\"vente.montantVerse\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"4\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Montant rendu\",type:\"number\",rules:t.rules.champRequis},model:{value:t.vente.montantRendu,callback:function(e){t.$set(t.vente,\"montantRendu\",e)},expression:\"vente.montantRendu\"}})],1)],1):t._e()],1),t._v(\" \"),t.items[0]?n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){t.items=[]}}},[t._v(\"Annuler\")]),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",loading:t.isLoading,disabled:t.isLoading||!t.valid,color:\"success\"},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}],null,!1,3178723242)},[t._v(\"\\n          Valider\\n          \")])],1)],1):t._e()],1),t._v(\" \"),[n(\"div\",[1==t.dialogClient?n(\"Client\"):t._e()],1)],t._v(\" \"),n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{fullscreen:\"\",\"hide-overlay\":\"\",transition:\"dialog-bottom-transition\"},model:{value:t.dialogProd,callback:function(e){t.dialogProd=e},expression:\"dialogProd\"}},[n(\"v-card\",[n(\"v-toolbar\",{attrs:{dark:\"\",color:\"#4E342E\"}},[n(\"v-btn\",{attrs:{icon:\"\",dark:\"\"},on:{click:function(e){t.dialogProd=!1}}},[n(\"v-icon\",[t._v(\"mdi-close\")])],1),t._v(\" \"),n(\"v-toolbar-title\",[t._v(\"Produits\")]),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-toolbar-items\",[n(\"v-btn\",{attrs:{dark:\"\",text:\"\"},on:{click:function(e){t.dialogProd=!1}}},[t._v(\"Save\")])],1)],1),t._v(\" \"),n(\"div\",{staticClass:\"text-center mb-4\"},[n(\"v-alert\",{attrs:{value:t.snackbar,dense:\"\",type:\"info\",transition:\"scale-transition\",top:\"\"}},[n(\"strong\",[t._v(t._s(t.text))])])],1),t._v(\" \"),n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"v-row\",{attrs:{dense:\"\"}},t._l(t.produits,(function(e){return n(\"v-col\",{key:e.id,attrs:{cols:\"3\"}},[n(\"v-card\",{staticClass:\"mx-auto\",attrs:{height:\"240\"}},[n(\"v-img\",{staticClass:\"white--text align-end\",attrs:{height:\"120px\",src:\"https://cdn.vuetifyjs.com/images/cards/docks.jpg\"}},[n(\"v-card-title\",[t._v(t._s(e.produit.designation))]),t._v(\" \"),n(\"v-card-subtitle\",[n(\"span\",{staticStyle:{color:\"white\"}},[t._v(\"Fournisseur: \"+t._s(e.produit.fournisseur.structure))])])],1),t._v(\" \"),n(\"v-card-text\",{staticClass:\"text--primary\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"div\",[t._v(\"\\n                      Prix\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.produit.prixVente)+\"\\n                    \")]),t._v(\" \"),n(\"div\",[t._v(\"\\n                      Taille\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.produit.taille)+\"\\n                    \")]),t._v(\" \"),n(\"div\",[t._v(\"\\n                      Age\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.produit.age)+\"\\n                    \")]),t._v(\" \"),n(\"div\",[t._v(\"\\n                      Pointure\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.produit.pointure)+\"\\n                    \")])])],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-btn\",{attrs:{color:\"orange\",text:\"\"},on:{click:function(n){return t.ajoutProduit(e.produit,e)}}},[t._v(\"Ajouter\")])],1)],1)],1)})),1)],1)],1)],1)],1),t._v(\" \"),n(\"v-snackbar\",{attrs:{color:t.colorSnackbar,\"multi-line\":\"\",right:\"\",timeout:t.timeout,top:\"\",vertical:\"\"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:\"snackbar\"}},[t._v(t._s(t.textSnackbar))])],2)};mi._withStripped=!0;n(\"R5XZ\");function pi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pi(Object(n),!0).forEach((function(e){hi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bi={components:{InputDynamic:P,Client:zn},data:function(){return{test:\"\",snackbar:!1,textSnackbar:\"\",timeout:5e3,colorSnackbar:\"\",valid:!0,dialogClient:!1,multiLine:!0,text:\"\",vente:{totalVente:\"0\",dateVente:\"\",client:\"\",typePaiement:\"\",montantVerse:\"\",montantRendu:\"\",nomComplet:\"\"},items:[{id:0,produit:{designation:\"\",prixVente:\"\"},quantiteVendue:0,prixVenteTotal:\"\",prixNetPayer:\"\"}],typePaiement:[{name:\"Chèque\",type:\"cheque\"},{name:\"Espèce\",type:\"espece\"},{name:\"Via mobile\",type:\"mobile_money\"},{name:\"Carte bancaire\",type:\"carte_bancaire\"}],counter:10,dialogProd:!1,notifications:!1,sound:!0,widgets:!1,rules:{champRequis:[function(t){return!!t||\"champ requis\"}]}}},mounted:function(){},computed:fi({isLoading:function(){if(this.$store.state.general.isLoading>0)return!0}},Object(g.c)({produits:\"vente/produits\",clients:\"client/clients\",client:\"client/client\"})),methods:fi({createVente:function(){var t=this;Qe.post(\"api/ventes\",{produits:this.items,vente:this.vente}).then((function(e){t.snackbar=!0,t.textSnackbar=\"Opération enregistrée avec succès\",t.timeout=5e3,t.colorSnackbar=\"green\",t.items=[]})).catch((function(e){t.snackbar=!1,t.textSnackbar=\"Opération échouée\",t.timeout=5e3,t.colorSnackbar=\"red\",console.log(e)}))},add:function(){this.items.push({id:this.counter++,produit:\"\",quantiteVendue:0,prixVenteTotal:\"\",prixNetPayer:\"\"})},ajoutProduit:function(t,e){var n=this;console.log(e),console.log(t);for(var i=this.items.length,r=0;r<i;r++)if(this.items[r].produit==t)return this.snackbar=!0,this.text=\"produit déjà ajouter\",setTimeout((function(){n.snackbar=!1}),3e3),void console.log(\"true\");this.items[i-1].produit=t,this.items[i-1].produit.prixVente=t.prixVente,this.dialogProd=!1},clientName:function(t,e){var n=this;t.forEach((function(t){t.id==e&&(n.vente.nomComplet=t.nomComplet)}))},prixVttl:function(t){var e=this.items.length;this.items[e-1].prixVenteTotal=t.produit.prixVente*t.quantiteVendue,this.items[e-1].prixNetPayer=t.produit.prixVente*t.quantiteVendue;for(var n=0,i=0;i<e;i++)n+=parseInt(this.items[i].prixNetPayer),this.vente.totalVente=n}},Object(g.b)({getProduits:\"vente/getProduits\",getClients:\"client/getClients\"})),created:function(){this.getProduits(),this.getClients()}},gi=(n(\"TuzQ\"),Object(u.a)(bi,mi,[],!1,null,\"72fe0360\",null));gi.options.__file=\"vue/pages/vente/AddVente.vue\";var _i=gi.exports,xi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Ajout Produits\")]),t._v(\" \"),n(\"div\",{staticClass:\"text-center\"},[n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Nouvelle catégorie\")])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-form\",{ref:\"form\",on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-container\",[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-text-field\",{attrs:{rules:t.rules.champRequis,label:\"Libelle\"},model:{value:t.categorie.libelle,callback:function(e){t.$set(t.categorie,\"libelle\",e)},expression:\"categorie.libelle\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"6\"}},[n(\"v-file-input\",{ref:\"file\",staticClass:\"input-group-prepend\",attrs:{accept:\"image/*\",label:\"Image \",type:\"file\",rules:t.rules.champRequis,id:\"file\"},model:{value:t.categorie.files,callback:function(e){t.$set(t.categorie,\"files\",e)},expression:\"categorie.files\"}})],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.close()}}},[t._v(\"Annuler\")]),t._v(\" \"),n(\"v-btn\",{attrs:{type:\"submit\",loading:t.isLoading,disabled:t.isLoading||!t.valid,color:\"success\"},on:{click:function(e){return t.createCategorie()}},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}])},[t._v(\"\\n            Valider\\n            \")])],1)],1)],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.dialog=!0}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-account-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter une catégorie\")])],1)],1),t._v(\" \"),n(\"v-form\",{ref:\"form\",on:{submit:function(e){return e.preventDefault(),t.createProduit()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"InputDynamic\",{scopedSlots:t._u([{key:\"default\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Désignation\",rules:t.rules.champRequis},model:{value:i.designation,callback:function(e){t.$set(i,\"designation\",e)},expression:\"item.designation\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Taille \",\"hide-details\":\"\"},model:{value:i.taille,callback:function(e){t.$set(i,\"taille\",e)},expression:\"item.taille\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Age\",type:\"number\",\"hide-details\":\"\"},model:{value:i.age,callback:function(e){t.$set(i,\"age\",e)},expression:\"item.age\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Pointure\",type:\"number\",\"hide-details\":\"\"},model:{value:i.pointure,callback:function(e){t.$set(i,\"pointure\",e)},expression:\"item.pointure\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Couleur \",\"hide-details\":\"\"},model:{value:i.couleur,callback:function(e){t.$set(i,\"couleur\",e)},expression:\"item.couleur\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Prix de vente\",type:\"number\",\"hide-details\":\"\",rules:t.rules.champRequis},model:{value:i.prixVente,callback:function(e){t.$set(i,\"prixVente\",e)},expression:\"item.prixVente\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"3\",sm:\"1\"}},[n(\"v-text-field\",{attrs:{label:\"Quantité \",type:\"number\",\"hide-details\":\"\",rules:t.rules.champRequis},model:{value:i.quantite,callback:function(e){t.$set(i,\"quantite\",e)},expression:\"item.quantite\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-select\",{attrs:{label:\"Catégorie\",items:t.categories,\"item-value\":\"id\",\"item-text\":\"libelle\",rules:t.rules.champRequis},model:{value:i.categorie,callback:function(e){t.$set(i,\"categorie\",e)},expression:\"item.categorie\"}})],1)],1)]}}]),model:{value:t.items,callback:function(e){t.items=e},expression:\"items\"}})],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{staticClass:\"py-0 mx-auto\",attrs:{cols:\"auto\"}},[n(\"v-btn\",{attrs:{text:\"\"},on:{click:t.add}},[n(\"v-icon\",[t._v(\"mdi-plus\")]),t._v(\"Ajouter Produit\\n            \")],1)],1)],1)],1),t._v(\" \"),t.items[0]?n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.reset()}}},[t._v(\"Fermer\")]),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",loading:t.isLoading,color:\"success\"},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}],null,!1,3178723242)},[t._v(\"\\n            Valider\\n            \")])],1)],1):t._e()],1),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{fullscreen:\"\",\"hide-overlay\":\"\",transition:\"dialog-bottom-transition\"},model:{value:t.dialogProd,callback:function(e){t.dialogProd=e},expression:\"dialogProd\"}},[n(\"v-card\",[n(\"v-toolbar\",{attrs:{dark:\"\",color:\"#4E342E\"}},[n(\"v-btn\",{attrs:{icon:\"\",dark:\"\"},on:{click:function(e){t.dialogProd=!1}}},[n(\"v-icon\",[t._v(\"mdi-close\")])],1),t._v(\" \"),n(\"v-toolbar-title\",[t._v(\"Produits\")]),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-toolbar-items\",[n(\"v-btn\",{attrs:{dark:\"\",text:\"\"},on:{click:function(e){t.dialogProd=!1}}},[t._v(\"Save\")])],1)],1),t._v(\" \"),n(\"div\",{staticClass:\"text-center mb-4\"},[n(\"v-alert\",{attrs:{value:t.snackbar,dense:\"\",type:\"info\",transition:\"scale-transition\",top:\"\"}},[n(\"strong\",[t._v(t._s(t.text))])])],1)],1)],1),t._v(\" \"),n(\"v-dialog\",{attrs:{persistent:\"\",transition:\"dialog-bottom-transition\"},model:{value:t.dialogProds,callback:function(e){t.dialogProds=e},expression:\"dialogProds\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Produits ajoutés\")])]),t._v(\" \"),n(\"v-card-text\",[[n(\"v-data-table\",{staticClass:\"elevation-1\",attrs:{dense:\"\",headers:t.headers,items:t.produits,\"item-key\":\"name\"}})]],2),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",color:\"success\"},on:{click:function(e){t.dialogProds=!1}}},[t._v(\"Fermer\")])],1)],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-snackbar\",{attrs:{color:t.colorSnackbar,\"multi-line\":\"\",right:\"\",timeout:t.timeout,top:\"\",vertical:\"\"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:\"snackbar\"}},[t._v(t._s(t.textSnackbar))])],1)};function yi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yi(Object(n),!0).forEach((function(e){ki(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ki(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}xi._withStripped=!0;var Ei={components:{InputDynamic:P},data:function(){return{produits:[],dialogProds:!1,snackbar:!1,textSnackbar:\"\",timeout:5e3,colorSnackbar:\"\",valid:!0,token_access:this.$route.params.token_access,multiLine:!0,dialog:!1,text:\"\",files:null,categories:[],fournisseur:{},categorie:{id:0,libelle:\"\",files:null},headers:[{text:\"Désignation\",align:\"start\",sortable:!1,value:\"designation\"},{text:\"Age\",value:\"age\"},{text:\"Taille\",value:\"taille\"},{text:\"Pointure\",value:\"pointure\"},{text:\"Couleur\",value:\"couleur\"},{text:\"Prix de Vente\",value:\"prixVente\"},{text:\"Quantite\",value:\"quantite\"}],items:[{id:0,designation:\"\",taille:\"\",age:\"\",pointure:\"\",couleur:\"\",prixVente:\"\",categorie:\"\",quantite:null}],counter:1,dialogProd:!1,notifications:!1,sound:!0,widgets:!1,rules:{champRequis:[function(t){return!!t||\"champ requis\"}]}}},mounted:function(){this.token_access&&localStorage.setItem(\"token_access\",this.token_access)},computed:Oi({isLoading:function(){if(this.$store.state.general.isLoading>0)return!0}},Object(g.c)({})),methods:Oi({goto:function(t){this.$router.push({name:t})},createProduit:function(){var t=this,e=localStorage.getItem(\"token_access\");Qe.post(\"api/produits\",{produits:this.items,token_access:e}).then((function(e){t.produits=t.items,t.dialogProds=!0,t.colorSnackbar=\"green\",t.snackbar=!0,t.textSnackbar=\"Ajout de produits réussie\",t.items=[]})).catch((function(e){t.colorSnackbar=\"red\",t.snackbar=!0,t.textSnackbar=\"Echec ajout produits\",console.log(e)}))},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.categorie=Object.assign({},t.categorie)})),this.$refs.form.reset()},createCategorie:function(){var t=this,e=new FormData;e.append(\"image\",this.categorie.files),e.append(\"libelle\",this.categorie.libelle),e.append(\"id\",this.categorie.id),Qe.post(\"api/newCategorie\",e).then((function(e){t.close(),t.$refs.form.reset(),t.$refs.form.resetValidation(),t.fetchCategories()})).catch((function(t){console.log(t)}))},fetchCategories:function(){var t=this;Qe.get(\"/api/showcategory\").then((function(e){t.categories=e.data}))},add:function(){this.items.push({id:this.counter++,designation:\"\",taille:\"\",age:\"\",pointure:\"\",couleur:\"\",prixVente:\"\",categorie:\"\",quantite:\"\"})},ajoutProduit:function(t){var e=this.items.length;this.items[e-1].produit=t,this.items[e-1].produit.prixVente=t.prixVente,this.dialogProd=!1}},Object(g.b)({})),created:function(){this.fetchCategories()}},Pi=(n(\"gais\"),Object(u.a)(Ei,xi,[],!1,null,\"613e08c0\",null));Pi.options.__file=\"vue/pages/produit/ProduitFournisseur.vue\";var ji=Pi.exports,wi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Produits de la vente\")]),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"space-between\"}}),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card\",{staticClass:\"mx-auto\"},[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{label:\"Nom client\",value:t.produitsVentes.client.nomComplet,readonly:\"\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{label:\"Telephone\",value:t.produitsVentes.client.telephone,readonly:\"\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{label:\"Date de la vente\",value:t.produitsVentes.dateVente,readonly:\"\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{label:\"Montant de la vente\",value:t.produitsVentes.totalVente,readonly:\"\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{label:\"Type de paiement\",value:t.produitsVentes.typePaiement,readonly:\"\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{label:\"Montant versé\",value:t.produitsVentes.montantVerse,readonly:\"\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{label:\"Montant rendu\",value:t.produitsVentes.montantRendu,readonly:\"\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Chercher\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1)],1)],1)],1),t._v(\" \"),n(\"v-data-table\",{attrs:{headers:t.headers,items:t.produitsVentes.venteProduits,search:t.search},scopedSlots:t._u([{key:\"item.dateVente\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(i.dateVente))])])]}},{key:\"item.status\",fn:function(e){var i=e.item;return[n(\"v-chip\",{attrs:{color:t.getColor(i.status),dark:\"\"}},[t._v(t._s(i.status))])]}},{key:\"item.actions\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{staticClass:\"ma-2\",attrs:{tile:\"\",color:\"#FFD600\",dark:\"\"},on:{click:function(e){t.dialog=!0,t.action(i,\"retour\")}}},[n(\"span\",{staticStyle:{color:\"black\"}},[t._v(\"Retour\")])])],1),t._v(\" \\n              \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{staticClass:\"ma-2\",attrs:{tile:\"\",color:\"#4CAF50\",dark:\"\"},on:{click:function(e){t.dialog=!0,t.action(i,\"echange\")}}},[n(\"span\",{staticStyle:{color:\"black\"}},[t._v(\"Échange\")])])],1)])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"}},[t._v(\"Reset\")])]},proxy:!0}])})],1)],1)],1),t._v(\" \"),[n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Produit\")])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-container\",[n(\"v-form\",{ref:\"form\"},[n(\"v-row\",[t.echange?n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"4\"}},[n(\"v-text-field\",{attrs:{label:\"Produit\",required:\"\"},on:{click:function(e){t.dialogProd=!0}},model:{value:t.produitsVente.produit.designation,callback:function(e){t.$set(t.produitsVente.produit,\"designation\",e)},expression:\"produitsVente.produit.designation\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"4\"}},[n(\"v-text-field\",{attrs:{label:\"Catégorie\",required:\"\",readonly:\"\"},model:{value:t.produitsVente.produit.categorie.libelle,callback:function(e){t.$set(t.produitsVente.produit.categorie,\"libelle\",e)},expression:\"produitsVente.produit.categorie.libelle\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"4\"}},[n(\"v-text-field\",{attrs:{label:\"Prix de vente\",readonly:\"\"},model:{value:t.produitsVente.produit.prixVente,callback:function(e){t.$set(t.produitsVente.produit,\"prixVente\",e)},expression:\"produitsVente.produit.prixVente\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"4\"}},[n(\"v-text-field\",{attrs:{label:\"Qunatité vendue\",required:\"\"},on:{input:function(e){return t.calculQttPrx(t.produitsVente.quantiteVendue)}},model:{value:t.produitsVente.quantiteVendue,callback:function(e){t.$set(t.produitsVente,\"quantiteVendue\",t._n(e))},expression:\"produitsVente.quantiteVendue\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"4\"}},[n(\"v-text-field\",{attrs:{label:\"Prix de Vente total\",required:\"\",readonly:\"\"},model:{value:t.produitsVente.prixVenteTotal,callback:function(e){t.$set(t.produitsVente,\"prixVenteTotal\",e)},expression:\"produitsVente.prixVenteTotal\"}})],1)],1):t._e(),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-textarea\",{staticClass:\"mx-2\",attrs:{\"append-icon\":\"mdi-comment\",label:\"Commentaire\",rows:\"2\"},model:{value:t.produitsVente.commentaire,callback:function(e){t.$set(t.produitsVente,\"commentaire\",e)},expression:\"produitsVente.commentaire\"}})],1)],1)],1)],1),t._v(\" \"),n(\"small\",[t._v(\"*indicates required field\")])],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.reset()}}},[t._v(\"Close\")]),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.echangeProd()}}},[t._v(\"Save\")])],1)],1)],1)],1)],t._v(\" \"),n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{fullscreen:\"\",\"hide-overlay\":\"\",transition:\"dialog-bottom-transition\"},model:{value:t.dialogProd,callback:function(e){t.dialogProd=e},expression:\"dialogProd\"}},[n(\"v-card\",[n(\"v-toolbar\",{attrs:{dark:\"\",color:\"#4E342E\"}},[n(\"v-btn\",{attrs:{icon:\"\",dark:\"\"},on:{click:function(e){t.dialogProd=!1}}},[n(\"v-icon\",[t._v(\"mdi-close\")])],1),t._v(\" \"),n(\"v-toolbar-title\",[t._v(\"Produits\")]),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-toolbar-items\",[n(\"v-btn\",{attrs:{dark:\"\",text:\"\"},on:{click:function(e){t.dialogProd=!1}}},[t._v(\"Save\")])],1)],1),t._v(\" \"),n(\"div\",{staticClass:\"text-center mb-4\"},[n(\"v-alert\",{attrs:{value:t.snackbar,dense:\"\",type:\"info\",transition:\"scale-transition\",top:\"\"}},[n(\"strong\",[t._v(t._s(t.text))])])],1),t._v(\" \"),n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"v-row\",{attrs:{dense:\"\"}},t._l(t.produits,(function(e){return n(\"v-col\",{key:e.id,attrs:{cols:\"3\"}},[n(\"v-card\",{staticClass:\"mx-auto\",attrs:{height:\"240\"}},[n(\"v-img\",{staticClass:\"white--text align-end\",attrs:{height:\"120px\",src:\"https://cdn.vuetifyjs.com/images/cards/docks.jpg\"}},[n(\"v-card-title\",[t._v(t._s(e.produit.designation))]),t._v(\" \"),n(\"v-card-subtitle\",[n(\"span\",{staticStyle:{color:\"white\"}},[t._v(\"Fournisseur: \"+t._s(e.produit.fournisseur.structure))])])],1),t._v(\" \"),n(\"v-card-text\",{staticClass:\"text--primary\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"div\",[t._v(\"\\n                      Prix\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.produit.prixVente)+\"\\n                    \")]),t._v(\" \"),n(\"div\",[t._v(\"\\n                      Taille\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.produit.taille)+\"\\n                    \")]),t._v(\" \"),n(\"div\",[t._v(\"\\n                      Age\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.produit.age)+\"\\n                    \")]),t._v(\" \"),n(\"div\",[t._v(\"\\n                      Pointure\\n                      \"),n(\"br\"),t._v(\"\\n                      \"+t._s(e.produit.pointure)+\"\\n                    \")])])],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-btn\",{attrs:{color:\"orange\",text:\"\"},on:{click:function(n){return t.ajoutProduit(e.produit,e)}}},[t._v(\"Ajouter\")])],1)],1)],1)})),1)],1)],1)],1)],1)],2)};function Si(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Si(Object(n),!0).forEach((function(e){Ti(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}wi._withStripped=!0;var Ci={name:\"vente\",components:{ItemErrors:Sn,Client:zn},data:function(){return{etat:\"\",echange:!1,snackbar:!1,text:\"\",dialogProd:!1,dialog:!1,detailVente:this.$route.params.item,items:[],entity:\"vente\",search:\"\",valid:!0,headers:[{text:\"Produit\",value:\"produit.designation\"},{text:\"Categorie\",value:\"produit.categorie.libelle\"},{text:\"Fournisseur\",value:\"produit.fournisseur.structure\"},{text:\"Prix unitaire\",value:\"produit.prixVente\"},{text:\"Quantité vendu\",value:\"quantiteVendue\"},{text:\"Prix de vente total\",value:\"prixVenteTotal\"},{text:\"Statut\",value:\"status\"},{text:\"Actions\",value:\"actions\"}],rules:{emailRules:[function(t){return!!t||\"E-mail est requis\"},function(t){return/.+@.+\\..+/.test(t)||\"E-mail non valid\"}],nameRules:[function(t){return!!t||\"Le nom est requis\"}],passwordRules:[function(t){return!!t||\"Le mot de passe est requis\"},function(t){return t&&t.length>=6||\"Le mot de passe doit être suppérieur ou égal à 6 caractéres\"}]}}},computed:Vi({isLoading:function(){if(this.$store.state.general.isLoading>0)return!0}},Object(g.c)({produitsVentes:\"produits_vente/produitsVentes\",produitsVente:\"produits_vente/produitsVente\",produits:\"vente/produits\"})),created:function(){this.fetchproduits(),this.getProduits()},mounted:function(){this.detailVente&&(this.$store.commit(\"produits_vente/VENTE_PRODUITS_SET_VENTE\",this.detailVente),console.log(this.detailVente))},methods:Vi(Vi({},Object(g.b)({getProduits:\"vente/getProduits\",updateVenteProduits:\"produits_vente/updateVenteProduits\"})),{},{ajoutProduit:function(t,e){console.log(e),console.log(t),this.$store.commit(\"produits_vente/setProduit\",t),this.dialogProd=!1},calculQttPrx:function(t){this.$store.commit(\"produits_vente/calculQttPrx\",t)},getColor:function(t){return\"ok\"==t?\"green\":\"retourne\"==t?\"red\":\"echange\"==t?\"orange\":void 0},echangeProd:function(){1==this.echange?this.$store.commit(\"produits_vente/setStatus\",\"echange\"):this.$store.commit(\"produits_vente/setStatus\",\"retourne\"),this.updateVenteProduits(),this.reset()},fetchproduits:function(){var t=this;Qe.get(\"/api/depots\").then((function(e){var n=[];e.data[\"hydra:member\"].forEach((function(t){n.push(t.produit)})),t.produits=n}))},validate:function(){this.$refs.form.validate()},reset:function(){this.$store.commit(\"produits_vente/VENTE_PRODUITS_RESET_ITEM\"),this.$refs.form.resetValidation(),this.dialog=!1,this.dialogProd=!1,this.echange=!1},editVente:function(t){this.dialog=!0},action:function(t,e){\"echange\"===e&&(this.echange=!0),this.$store.commit(\"produits_vente/VENTE_PRODUITS_SET_ITEM\",t),console.log(t)}})},Ii=(n(\"Xzg6\"),Object(u.a)(Ci,wi,[],!1,null,null,null));Ii.options.__file=\"vue/pages/vente/ProduitsVente.vue\";var Ri=Ii.exports,Di=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Utilisateurs\")]),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"CardsInfos\",{attrs:{icon:\"mdi-account-supervisor\",libelle:\"Total\",number:t.countUserData.totalUser,color:\"blue\"}}),t._v(\" \"),n(\"CardsInfos\",{attrs:{icon:\"mdi-account-check\",libelle:\"Actifs\",number:t.countUserData.totalUserActifs,color:\"green\"}}),t._v(\" \"),n(\"CardsInfos\",{attrs:{icon:\"mdi-account-lock\",libelle:\"Inactifs\",number:t.countUserData.totalUserInactifs,color:\"red\"}})],1),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{staticClass:\"col-auto\"},[n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"User Profile\")]),t._v(\" \"),t.entity?n(\"item-errors\",{attrs:{entity:t.entity}}):t._e()],1),t._v(\" \"),n(\"v-card-text\",[n(\"v-container\",[n(\"v-form\",{ref:\"form\",on:{submit:function(e){return e.preventDefault(),t.onSendForm(t.item)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Nom complet *\",rules:t.rules.nameRules,required:\"\"},model:{value:t.item.name,callback:function(e){t.$set(t.item,\"name\",e)},expression:\"item.name\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Téléphone\"},model:{value:t.item.phone,callback:function(e){t.$set(t.item,\"phone\",e)},expression:\"item.phone\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-text-field\",{attrs:{label:\"Email*\",rules:t.rules.emailRules,required:\"\"},model:{value:t.item.email,callback:function(e){t.$set(t.item,\"email\",e)},expression:\"item.email\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-text-field\",{attrs:{label:\"Mot de passe *\",type:\"password\"},model:{value:t.item.password,callback:function(e){t.$set(t.item,\"password\",e)},expression:\"item.password\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\"}},[n(\"v-autocomplete\",{attrs:{items:t.itemsRoles,\"item-value\":\"role\",\"item-text\":\"name\",\"option-store\":\"name\",label:\"Accés\",multiple:\"\"},model:{value:t.item.roles,callback:function(e){t.$set(t.item,\"roles\",e)},expression:\"item.roles\"}})],1)],1),t._v(\" \"),n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:t.reset}},[t._v(\"Fermer\")]),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",loading:t.isLoading,disabled:t.isLoading||!t.valid,color:\"success\"},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}])},[t._v(\"\\n                        Valider\\n                        \")])],1)],1)],1)],1),t._v(\" \"),n(\"small\",{staticStyle:{color:\"red\"}},[t._v(\"* Champs requis\")])],1)],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card\",{staticClass:\"mx-auto\"},[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"12\",sm:\"6\",md:\"3\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{large:\"\",tile:\"\",dark:\"\"},on:{click:function(e){t.updatUser=!1,t.dialog=!0}}},[n(\"v-icon\",{attrs:{color:\"#555\",left:\"\"}},[t._v(\"mdi-account-plus\")]),t._v(\" \"),n(\"span\",{staticStyle:{color:\"#555\"}},[t._v(\"Ajouter un utilisateur\")])],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-data-table\",{attrs:{headers:t.headers,items:t.items,search:t.search},scopedSlots:t._u([{key:\"item.isActivated\",fn:function(e){var i=e.item;return[n(\"v-btn\",{attrs:{type:\"button\",tile:\"\",color:t.getColor(i.isActivated)},on:{click:function(e){return t.userStatus(i.id,i)}},model:{value:i.isActivated,callback:function(e){t.$set(i,\"isActivated\",e)},expression:\"item.isActivated\"}},[t._v(t._s(i.isActivated?\"Actif\":\"Inactif\"))])]}},{key:\"item.actions\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"primary\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.editUser(i)}}},[n(\"v-icon\",[t._v(\"mdi-pencil\")])],1)],1),t._v(\"   \\n              \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{color:\"error\",tile:\"\",fab:\"\",small:\"\",dark:\"\"},on:{click:function(e){return t.deleteUser(i.id)}}},[n(\"v-icon\",[t._v(\"mdi-delete\")])],1)],1)])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"}},[t._v(\"Reset\")])]},proxy:!0}])})],1)],1)],1)],1)};function $i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$i(Object(n),!0).forEach((function(e){qi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Di._withStripped=!0;var Ui={components:{ItemErrors:Sn,CardsInfos:si},data:function(){return{entity:\"user\",editedIndex:-1,pencil:\"mdi-plus\",color:\"red\",clients:[],search:\"\",small:\"small\",show:!1,dialog:!1,valid:!0,updatUser:!1,headers:[{text:\"Prenom et Nom\",value:\"name\"},{text:\"email\",value:\"email\"},{text:\"Téléphone\",value:\"phone\"},{text:\"Etat\",value:\"isActivated\"},{text:\"Actions\",value:\"actions\"}],itemsRoles:[{name:\"user\",role:\"ROLE_USER\"},{name:\"admin\",role:\"ROLE_ADMIN\"},{name:\"guest\",role:\"ROLE_GUEST\"},{name:\"Gérant(e)\",role:\"ROLE_GERANT\"}],rules:{emailRules:[function(t){return!!t||\"E-mail est requis\"},function(t){return/.+@.+\\..+/.test(t)||\"E-mail non valid\"}],nameRules:[function(t){return!!t||\"Le nom est requis\"}],passwordRules:[function(t){return!!t||\"Le mot de passe est requis\"},function(t){return t&&t.length>=6||\"Le mot de passe doit être suppérieur ou égal à 6 caractéres\"}]}}},computed:Ai({isLoading:function(){return this.$store.state.general.isLoading>0}},Object(g.c)({items:\"user/items\",item:\"user/item\",errors:\"user/errors\",error:\"user/error\",countUserData:\"user/countUserData\"})),created:function(){this.getCountUserData(),this.getItems()},methods:Ai(Ai({},Object(g.b)({getItems:\"user/getItems\",getItem:\"user/getItem\",create:\"user/create\",resets:\"user/reset\",remove:\"user/remove\",getCountUserData:\"user/getCountUserData\"})),{},{onSendForm:function(t){var e=this;1==this.updatUser?Qe.put(\"\".concat(void 0,\"/users/\").concat(t.id),t).then((function(t){e.reset()})).catch({}):0==this.updatUser&&this.create().then((function(t){e.reset()})).catch((function(t){console.log(t)}))},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset(),this.$refs.form.resetValidation(),this.dialog=!1,this.updatUser=!1,this.$store.commit(\"user/USER_RESET\"),this.getItems()},getColor:function(t){return 1==t?\"green\":\"red\"},userStatus:function(t,e){var n,i=this;n=1==e.isActivated?\"Voulez-vous désactivez cette utilisateur\":\"Voulez-vous activez cette utilisateur\",window.confirm(n)&&(e.isActivated=!e.isActivated,Qe.put(\"\".concat(void 0,\"/users/\").concat(t),e).then((function(t){i.getCountUserData()})).catch({}))},editUser:function(t){this.updatUser=!0,this.$store.commit(\"user/USER_UPDATE_ITEM\",t),this.dialog=!0},deleteUser:function(t){var e=this;window.confirm(\"Voulez-vous vraiment supprimer cet utilisateur\")&&this.remove(t).then((function(t){e.getItems(),e.getCountUserData(),console.log(t)}))}})},Ni=(n(\"eFSI\"),Object(u.a)(Ui,Di,[],!1,null,null,null));Ni.options.__file=\"vue/pages/user/List.vue\";var Fi=Ni.exports,Li=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",[n(\"v-row\",{attrs:{justify:\"space-between\"}}),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card\",{staticClass:\"mx-auto\"},[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-form\",{ref:\"form\"},[n(\"v-card-title\",{staticClass:\"p-n12 mt-n8 mb-n8\"},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{attrs:{cols:\"6\",sm:\"3\",md:\"2\"}},[n(\"v-text-field\",{attrs:{\"append-icon\":\"search\",label:\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\",md:\"2\"}},[n(\"v-text-field\",{attrs:{type:\"date\",label:\"Date de début\"},model:{value:t.from,callback:function(e){t.from=e},expression:\"from\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\",md:\"2\"}},[n(\"v-text-field\",{attrs:{type:\"date\",label:\"Date de fin\"},on:{input:function(e){return t.filterByDate()}},model:{value:t.to,callback:function(e){t.to=e},expression:\"to\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\",md:\"2\"}},[n(\"v-autocomplete\",{attrs:{items:t.fournisseurs,label:\"Fournisseur\",\"item-value\":\"id\",\"item-text\":\"structure\"},on:{input:function(e){return t.filterByFour()}},model:{value:t.fournisseur,callback:function(e){t.fournisseur=e},expression:\"fournisseur\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\",md:\"2\"}},[n(\"v-btn\",{staticClass:\"ma-4 brunfonce\",attrs:{tile:\"\",dark:\"\",small:\"\"},on:{click:function(e){return t.replay()}}},[n(\"v-icon\",{attrs:{color:\"#555\",large:\"\"}},[t._v(\"replay\")])],1)],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\",md:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Frais d'expo\"},model:{value:t.fraisExpo,callback:function(e){t.fraisExpo=e},expression:\"fraisExpo\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\",md:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Total commission\"},model:{value:t.totalCommision,callback:function(e){t.totalCommision=e},expression:\"totalCommision\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\",md:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Montant entrée CB et chéque\"},model:{value:t.mntCBE,callback:function(e){t.mntCBE=e},expression:\"mntCBE\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\",md:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Montant entrée espèce\"},model:{value:t.mntEsp,callback:function(e){t.mntEsp=e},expression:\"mntEsp\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"4\",md:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Montant entrée mobile money\"},model:{value:t.mntMM,callback:function(e){t.mntMM=e},expression:\"mntMM\"}})],1)],1)],1)],1)],1),t._v(\" \"),n(\"v-data-table\",{attrs:{headers:t.headers,items:t.allVentesFours,search:t.search},scopedSlots:t._u([{key:\"item.dateVente\",fn:function(e){var i=e.item;return[n(\"div\",[n(\"span\",[t._v(t._s(i.dateVente))])])]}},{key:\"no-data\",fn:function(){return[n(\"v-btn\",{attrs:{color:\"primary\"}},[t._v(\"Reset\")])]},proxy:!0}])}),t._v(\" \"),n(\"div\",[t._v(\"Total Journée: \"+t._s(t.ttlJour))])],1)],1)],1),t._v(\" \"),n(\"v-row\",{attrs:{justify:\"space-between\"}},[n(\"v-col\",{staticClass:\"col-auto\"},[n(\"v-row\",{attrs:{justify:\"center\"}},[n(\"v-dialog\",{attrs:{persistent:\"\",\"max-width\":\"600px\"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:\"dialog\"}},[n(\"v-card\",[n(\"v-card-title\",[n(\"span\",{staticClass:\"headline\"},[t._v(\"Produits de la vente\")])]),t._v(\" \"),n(\"v-card-text\",[n(\"v-container\",[n(\"v-card-actions\",[n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){t.dialogClient=!t.dialogClient}}},[t._v(\"Ajouter client\")]),t._v(\" \"),n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){return t.reset()}}},[t._v(\"Fermer\")])],1)],1)],1)],1)],1)],1)],1)],1)],1)};function Mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mi(Object(n),!0).forEach((function(e){Gi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Li._withStripped=!0;var Ji={name:\"caisse\",components:{ItemErrors:Sn},data:function(){return{mntCBE:null,mntEsp:null,mntMM:null,totalCommisionMens:null,totalCommision:null,fraisExpo:null,fournisseur:null,ttlJour:null,from:\"\",to:\"\",dialogClient:!1,update:!1,items:[],entity:\"vente\",produits:[],values:[],editedIndex:-1,pencil:\"mdi-plus\",color:\"red\",search:\"\",small:\"small\",show:!1,dialog:!1,valid:!0,headers:[{text:\"Date de la vente\",value:\"dateVente\"},{text:\"Fournisseur\",value:\"produit.fournisseur.structure\"},{text:\"Produit\",value:\"produit.designation\"},{text:\"Quantité\",value:\"quantiteVendue\"},{text:\"Montant\",value:\"produit.prixVente\"},{text:\"Total\",value:\"prixVenteTotal\"},{text:\"Type de paiement\",value:\"typePaiement\"}],rules:{emailRules:[function(t){return!!t||\"E-mail est requis\"},function(t){return/.+@.+\\..+/.test(t)||\"E-mail non valid\"}],nameRules:[function(t){return!!t||\"Le nom est requis\"}],passwordRules:[function(t){return!!t||\"Le mot de passe est requis\"},function(t){return t&&t.length>=6||\"Le mot de passe doit être suppérieur ou égal à 6 caractéres\"}]}}},computed:zi({isLoading:function(){if(this.$store.state.general.isLoading>0)return!0}},Object(g.c)({ventes:\"vente/ventes\",vente:\"vente/vente\",clients:\"client/clients\",allVentesFours:\"vente/allVentesFours\",fournisseurs:\"fournisseur/fournisseurs\"})),created:function(){this.getVentes(),this.fetchproduits(),this.getClients(),this.infosVenteFourn(),this.getVentesFournisseur()},methods:zi(zi({},Object(g.b)({getVentes:\"vente/getVentes\",createVente:\"vente/createVente\",updateVente:\"vente/updateVente\",removeVente:\"vente/removeVente\",getClients:\"client/getClients\",getVentesFournisseur:\"fournisseur/getVentesFournisseur\"})),{},{filterByDate:function(){var t=this,e=[],n=0;this.values.filter((function(i){i.dateVente>=t.from&&i.dateVente<=t.to&&(e.push(i),t.ttlJour=null),i.dateVente==t.from&&i.dateVente==t.to&&(n+=parseInt(i.prixVenteTotal),t.ttlJour=n),i.dateVente==t.from&&i.dateVente==t.to&&(n+=parseInt(i.prixVenteTotal),t.ttlJour=n)})),this.$store.commit(\"vente/allVentesFours\",e)},infosVenteFourn:function(){var t=this;this.getVentes().then((function(e){console.log(e);var n=0;e.filter((function(e){var i=e.typePaiement;e.venteProduits.forEach((function(e){e.typePaiement=i,t.values.push(e),e.dateVente===Xn.a.format(new Date,\"YYYY-MM-DD\")&&(n+=parseInt(e.prixVenteTotal))}))})),t.$store.commit(\"vente/totalJournee\",n),t.$store.commit(\"vente/allVentesFours\",t.values)}))},filterByFour:function(){var t,e=this,n=[],i=0,r=0,a=0;this.fraisExpo=0,this.totalCommision=0,this.mntEsp=0,this.mntCBE=0,this.mntMM=0,this.from&&this.to?this.values.filter((function(t){t.produit.fournisseur.id==e.fournisseur&&t.dateVente>=e.from&&t.dateVente<=e.to&&(i+=parseInt(t.prixVenteTotal),e.ttlJour=null,t.totalCumule=i,a+=t.quantiteVendue,console.log(t.typePaiement),t.typePaiement&&\"espece\"==t.typePaiement&&(e.mntEsp=e.mntEsp+parseInt(t.prixVenteTotal)),t.typePaiement&&\"mobile_money\"==t.typePaiement&&(e.mntMM=e.mntMM+parseInt(t.prixVenteTotal)),\"carte_bancaire\"!=t.typePaiement&&\"cheque\"!=t.typePaiement||(e.mntCBE=e.mntCBE+parseInt(t.prixVenteTotal)),e.fraisExpo=t.produit.fournisseur.fraisExposition,r=t.produit.fournisseur.commission,n.push(t))})):this.values.filter((function(t){(t.produit.fournisseur.id==e.fournisseur||t.dateVente==e.from&&t.dateVente==e.to&&t.produit.fournisseur.id==e.fournisseur)&&(i+=parseInt(t.prixVenteTotal),e.ttlJour=null,e.fraisExpo=t.produit.fournisseur.fraisExposition,r=t.produit.fournisseur.commission,a+=t.quantiteVendue,t.totalCumule=i,t.typePaiement&&\"espece\"==t.typePaiement&&(e.mntEsp=e.mntEsp+parseInt(t.prixVenteTotal)),t.typePaiement&&\"mobile_money\"==t.typePaiement&&(e.mntMM=e.mntMM+parseInt(t.prixVenteTotal)),\"carte_bancaire\"!=t.typePaiement&&\"cheque\"!=t.typePaiement||(e.mntCBE=e.mntCBE+parseInt(t.prixVenteTotal)),n.push(t))})),t=r*a,this.totalCommision=t,this.$store.commit(\"vente/allVentesFours\",n)},fetchproduits:function(){var t=this;Qe.get(\"/api/depots\").then((function(e){var n=[];e.data[\"hydra:member\"].forEach((function(t){n.push(t.produit)})),t.produits=n}))},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset(),this.$refs.form.resetValidation(),this.dialog=!1,this.update=!1,this.$store.commit(\"vente/VENTE_RESET_ITEM\"),this.getVentes()},replay:function(){this.values=[],this.getVentes(),this.infosVenteFourn(),this.$refs.form.reset(),this.$refs.form.resetValidation()},editVente:function(t){this.update=!0,this.$store.commit(\"vente/VENTE_UPDATE_ITEM\",t),this.dialog=!0},venteCreate:function(){var t=this;this.createVente().then((function(e){t.reset()}))},venteUpdate:function(){var t=this;this.updateVente().then((function(e){t.reset()}))},venteRemove:function(t){var e=this;window.confirm(\"Voulez-vous vraiment supprimer cette vente\")&&this.removeVente(t.id).then((function(t){e.reset()}))},goto:function(t){this.$router.push({name:t})},gotoEdit:function(t){this.$router.push({name:\"produitsVente\",params:{item:t}})}})},Bi=(n(\"N2gQ\"),Object(u.a)(Ji,Li,[],!1,null,null,null));Bi.options.__file=\"vue/pages/caisse/Caisse.vue\";var Qi=Bi.exports,Hi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"h1\",{staticClass:\"my-5 display-1 subheading grey--text\"},[t._v(\"Opération de caisse\")]),t._v(\" \"),n(\"v-tabs\",{attrs:{\"fixed-tabs\":\"\",\"background-color\":\"indigo\",dark:\"\"},model:{value:t.tab,callback:function(e){t.tab=e},expression:\"tab\"}},[n(\"v-tab\",[t._v(\"Enregistrement Vente\")]),t._v(\" \"),n(\"v-tab\",[t._v(\"Autres opération\")])],1),t._v(\" \"),n(\"v-tabs-items\",{model:{value:t.tab,callback:function(e){t.tab=e},expression:\"tab\"}},[n(\"v-tab-item\",[n(\"v-card\",{attrs:{color:\"basil\",flat:\"\"}},[n(\"AddVente\")],1)],1),t._v(\" \"),n(\"v-tab-item\",[n(\"v-card\",{attrs:{color:\"basil\",flat:\"\"}},[n(\"AutresOperations\")],1)],1)],1)],1)};Hi._withStripped=!0;var Yi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"v-form\",{ref:\"form\",on:{submit:function(e){return e.preventDefault(),t.createVente()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:\"valid\"}},[n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"v-row\"),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"InputDynamic\",{scopedSlots:t._u([{key:\"default\",fn:function(e){var i=e.item;return[n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Nom opération\",rules:t.rules.champRequis},on:{click:function(e){t.dialogProd=!0}},model:{value:i.libelle,callback:function(e){t.$set(i,\"libelle\",e)},expression:\"item.libelle\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Montant de l'opération\",rules:t.rules.champRequis,type:\"number\"},model:{value:i.montant,callback:function(e){t.$set(i,\"montant\",e)},expression:\"item.montant\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Commetaire\",rules:t.rules.champRequis},on:{click:function(e){t.dialogProd=!0}},model:{value:i.commentaire,callback:function(e){t.$set(i,\"commentaire\",e)},expression:\"item.commentaire\"}})],1),t._v(\" \"),n(\"v-col\",{attrs:{cols:\"6\",sm:\"2\"}},[n(\"v-text-field\",{attrs:{label:\"Date de l'opération\",type:\"date\",rules:t.rules.champRequis},model:{value:i.dateOperation,callback:function(e){t.$set(i,\"dateOperation\",e)},expression:\"item.dateOperation\"}})],1)],1)]}}]),model:{value:t.items,callback:function(e){t.items=e},expression:\"items\"}})],1)],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{staticClass:\"py-0 mx-auto\",attrs:{cols:\"auto\"}},[n(\"v-btn\",{attrs:{text:\"\"},on:{click:t.add}},[n(\"v-icon\",[t._v(\"mdi-plus\")]),t._v(\"Ajouter Opération\\n          \")],1)],1)],1)],1),t._v(\" \"),t.items[0]?n(\"v-card-actions\",[n(\"v-spacer\"),t._v(\" \"),n(\"v-btn\",{attrs:{color:\"blue darken-1\",text:\"\"},on:{click:function(e){t.items=[]}}},[t._v(\"Annuler\")]),t._v(\" \"),n(\"div\",{staticClass:\"my-2\"},[n(\"v-btn\",{attrs:{type:\"submit\",loading:t.isLoading,disabled:t.isLoading||!t.valid,color:\"success\"},scopedSlots:t._u([{key:\"loader\",fn:function(){return[n(\"span\",[t._v(\"En cours...\")])]},proxy:!0}],null,!1,3178723242)},[t._v(\"\\n          Valider\\n          \")])],1)],1):t._e()],1),t._v(\" \"),n(\"v-snackbar\",{attrs:{color:t.colorSnackbar,\"multi-line\":\"\",right:\"\",timeout:t.timeout,top:\"\",vertical:\"\"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:\"snackbar\"}},[t._v(t._s(t.textSnackbar))])],1)};function Ki(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ki(Object(n),!0).forEach((function(e){Wi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Yi._withStripped=!0;var Zi={components:{InputDynamic:P},data:function(){return{test:\"\",snackbar:!1,textSnackbar:\"\",timeout:5e3,colorSnackbar:\"\",valid:!0,dialogClient:!1,multiLine:!0,text:\"\",items:[{id:0,libelle:\"\",montant:\"\",commentaire:\"\",dateOperation:\"\"}],typePaiement:[{name:\"Chèque\",type:\"cheque\"},{name:\"Espèce\",type:\"espece\"},{name:\"Via mobile\",type:\"mobile_money\"},{name:\"Carte bancaire\",type:\"carte_bancaire\"}],counter:10,dialogProd:!1,notifications:!1,sound:!0,widgets:!1,rules:{champRequis:[function(t){return!!t||\"champ requis\"}]}}},mounted:function(){},computed:Xi({isLoading:function(){if(this.$store.state.general.isLoading>0)return!0}},Object(g.c)({produits:\"vente/produits\",clients:\"client/clients\",client:\"client/client\"})),methods:Xi({createVente:function(){var t=this;Qe.post(\"/api/autres_operations\",{operations:this.items}).then((function(e){t.snackbar=!0,t.textSnackbar=\"Opération enregistrée avec succès\",t.timeout=5e3,t.colorSnackbar=\"green\",t.items=[]})).catch((function(e){t.snackbar=!1,t.textSnackbar=\"Opération échouée\",t.timeout=5e3,t.colorSnackbar=\"red\",console.log(e)}))},add:function(){this.items.push({id:this.counter++,libelle:\"\",montant:\"\",commentaire:\"\",dateOperation:\"\"})},ajoutProduit:function(t,e){var n=this;console.log(e),console.log(t);for(var i=this.items.length,r=0;r<i;r++)if(this.items[r].produit==t)return this.snackbar=!0,this.text=\"produit déjà ajouter\",setTimeout((function(){n.snackbar=!1}),3e3),void console.log(\"true\");this.items[i-1].produit=t,this.items[i-1].produit.prixVente=t.prixVente,this.dialogProd=!1},clientName:function(t,e){var n=this;t.forEach((function(t){t.id==e&&(n.vente.nomComplet=t.nomComplet)}))},prixVttl:function(t){var e=this.items.length;this.items[e-1].prixVenteTotal=t.produit.prixVente*t.quantiteVendue,this.items[e-1].prixNetPayer=t.produit.prixVente*t.quantiteVendue;for(var n=0,i=0;i<e;i++)n+=parseInt(this.items[i].prixNetPayer),this.vente.totalVente=n}},Object(g.b)({getProduits:\"vente/getProduits\",getClients:\"client/getClients\"})),created:function(){this.getProduits(),this.getClients()}},tr=(n(\"X/0j\"),Object(u.a)(Zi,Yi,[],!1,null,\"72561222\",null));function er(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}tr.options.__file=\"vue/pages/caisse/AutresOperations.vue\";var ir={name:\"operaion_caisse\",components:{AddVente:_i,AutresOperations:tr.exports},props:{beforeUpload:Function,onSuccess:Function},data:function(){return{excelData:{header:null,results:null},venteTab:[],tab:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?er(Object(n),!0).forEach((function(e){nr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(g.c)({})),methods:{}},rr=Object(u.a)(ir,Hi,[],!1,null,null,null);rr.options.__file=\"vue/pages/caisse/OperationCaisse.vue\";var ar=rr.exports;o.default.use(s.a);var or=new s.a({mode:\"history\",routes:[{path:\"/login\",name:\"Login\",component:v,meta:{requiresAuth:!1}},{path:\"/\",component:h,children:[{path:\"/home\",name:\"Home\",meta:{requiresAuth:!0},component:Ze},{path:\"/test\",name:\"test\",meta:{requiresAuth:!0},component:Ze},{path:\"/fournisseur/add/produit/:token_access\",name:\"ProduitFournisseur\",meta:{requiresAuth:!0},component:ji},{path:\"/user/list\",name:\"UserList\",meta:{requiresAuth:!0},component:Fi},{path:\"/client\",name:\"client\",meta:{requiresAuth:!0},component:cn},{path:\"/fournisseur\",name:\"fournisseur\",meta:{requiresAuth:!0},component:fn},{path:\"/depot\",name:\"depot\",meta:{requiresAuth:!0},component:Dn},{path:\"/categorie\",name:\"categorie\",meta:{requiresAuth:!0},component:_n},{path:\"/produit\",name:\"produit\",meta:{requiresAuth:!0},component:kn},{path:\"/vente\",name:\"vente\",meta:{requiresAuth:!0},component:vi},{path:\"/vente/add\",name:\"addVente\",meta:{requiresAuth:!0},component:_i},{path:\"/vente/produit/detail\",name:\"produitsVente\",meta:{requiresAuth:!0},component:Ri},{path:\"/vente/allvente\",name:\"allVente\",meta:{requiresAuth:!0},component:ii},{path:\"/caisse\",name:\"caisse\",meta:{requiresAuth:!0},component:Qi},{path:\"/operation/caisse\",name:\"operation_caisse\",meta:{requiresAuth:!0},component:ar}],redirect:{name:\"Home\"},meta:{requiresAuth:!0,bodyClass:\"hold-transition skin-blue sidebar-mini\"}}]});or.beforeEach((function(t,e,n){var i=Be.getters[\"auth/jwtDecoded\"]||null;i&&i.exp>Date.now()/1e3?t.matched.some((function(t){return!t.meta.requiresAuth}))&&n({name:\"Home\"}):t.matched.some((function(t){return t.meta.requiresAuth}))&&n({name:\"Login\"}),n()}));var sr=or,lr=function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",[e(\"router-view\"),this._v(\" \"),e(\"loader\")],1)};lr._withStripped=!0;var cr=function(){var t=this.$createElement,e=this._self._c||t;return e(\"v-overlay\",{attrs:{value:this.isLoading}},[this.isLoading?e(\"v-progress-circular\",{attrs:{size:50,color:\"primary\",indeterminate:\"\"}}):this._e()],1)};cr._withStripped=!0;var ur={name:\"Loader\",computed:{isLoading:function(){return this.$store.state.general.isLoading}}},dr=Object(u.a)(ur,cr,[],!1,null,null,null);dr.options.__file=\"vue/components/Loader.vue\";var vr={name:\"App\",components:{Loader:dr.exports}},mr=Object(u.a)(vr,lr,[],!1,null,null,null);mr.options.__file=\"vue/App.vue\";var pr=mr.exports,fr=n(\"zlta\"),hr=n.n(fr);n(\"v0CA\"),n(\"U2NJ\");o.default.use(hr.a);var br=new hr.a({opts:{icons:{iconfont:\"mdi\"},theme:{options:{customProperties:!0}},treeShake:!0}}),gr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"v-container\",{attrs:{fluid:\"\"}},[n(\"v-row\",{attrs:{justify:\"space-between\"}},[t.title?n(\"v-col\",{staticClass:\"col-auto\"},[n(\"h1\",{staticClass:\"display-1 ml-lg-5 py-2 py-lg-4\"},[t._v(t._s(t.title))])]):t._e(),t._v(\" \"),t.routeAdd?n(\"v-col\",{staticClass:\"col-auto\"},[n(\"v-btn\",{attrs:{color:\"success mr-lg-5\",dark:\"\",fab:\"\",to:{name:t.routeAdd}}},[n(\"v-icon\",[t._v(t._s(t.icon))])],1)],1):t._e()],1),t._v(\" \"),n(\"v-row\",[n(\"v-col\",{attrs:{cols:\"12\"}},[n(\"v-card\",{staticClass:\"mx-auto\"},[n(\"v-card-text\",[t.entity?n(\"item-errors\",{attrs:{entity:t.entity}}):t._e(),t._v(\" \"),t._t(\"default\")],2)],1)],1)],1)],1)};gr._withStripped=!0;var _r={name:\"IsMainTemplate\",components:{ItemErrors:Sn},props:{title:{type:String,default:null},one:{type:String,default:null},entity:{type:String,default:null},titleParams:{type:Object,default:null},routeAdd:{type:String,default:null},icon:{type:String,default:\"add\"}}},xr=Object(u.a)(_r,gr,[],!1,null,null,null);xr.options.__file=\"vue/components/layout/IsMainTemplate.vue\";var yr=xr.exports,Or={methods:{crmDateFormat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"DD-MM-YYYY HH:mm\";if(t)return Xn.a.format(Xn.a.parse(t,\"YYYY-MM-DDTHH:mm:ss\"),e)}}},kr=Object(u.a)(Or,void 0,void 0,!1,null,null,null);kr.options.__file=\"vue/mixin/DateMixin.vue\";var Er=kr.exports,Pr={methods:{isGranted:function(t){return-1!==this.$store.getters[\"auth/roles\"].indexOf(t)}}},jr=Object(u.a)(Pr,void 0,void 0,!1,null,null,null);jr.options.__file=\"vue/mixin/Security.vue\";var wr=jr.exports,Sr=(n(\"FfUf\"),n(\"PcYy\"));o.default.use(Sr.a),o.default.use(s.a),o.default.mixin(Er),o.default.mixin(wr),o.default.config.productionTip=!1,o.default.component(\"is-main-template\",yr),w.a.defaults.baseURL=\"https://www.caravanebyerc.com\",o.default.config.productionTip=!1,new o.default({vuetify:br,store:Be,router:sr,icons:{iconfont:\"fa\"},render:function(t){return t(pr)}}).$mount(\"#app\")},N2gQ:function(t,e,n){\"use strict\";var i=n(\"fPzr\");n.n(i).a},TKzj:function(t,e,n){},TuzQ:function(t,e,n){\"use strict\";var i=n(\"igd2\");n.n(i).a},\"X/0j\":function(t,e,n){\"use strict\";var i=n(\"1GwN\");n.n(i).a},X28C:function(t,e,n){\"use strict\";var i=n(\"GTXu\");n.n(i).a},Xzg6:function(t,e,n){\"use strict\";var i=n(\"rJ5D\");n.n(i).a},Yj2X:function(t,e,n){},a0DO:function(t,e,n){},dK4a:function(t,e,n){\"use strict\";var i=n(\"a0DO\");n.n(i).a},eFSI:function(t,e,n){\"use strict\";var i=n(\"Yj2X\");n.n(i).a},fPzr:function(t,e,n){},g3yF:function(t,e,n){\"use strict\";var i=n(\"uq7u\");n.n(i).a},gais:function(t,e,n){\"use strict\";var i=n(\"zGMq\");n.n(i).a},hRuB:function(t,e,n){\"use strict\";var i=n(\"w4Jv\");n.n(i).a},igd2:function(t,e,n){},kkAF:function(t,e,n){},rJ5D:function(t,e,n){},uq7u:function(t,e,n){},w4Jv:function(t,e,n){},zGMq:function(t,e,n){}},[[\"KDR+\",\"runtime\",0]]]);","extractedComments":[]}